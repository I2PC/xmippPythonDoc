<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xmipp: xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xmipp_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xmipp
   &#160;<span id="projectnumber">v20.07</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacexmipp3.html">xmipp3</a></li><li class="navelem"><a class="el" href="namespacexmipp3_1_1protocols.html">protocols</a></li><li class="navelem"><a class="el" href="namespacexmipp3_1_1protocols_1_1protocol__screen__deepConsensus.html">protocol_screen_deepConsensus</a></li><li class="navelem"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html">XmippProtScreenDeepConsensus</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus:</div>
<div class="dyncontent">
<div class="center"><img src="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus__inherit__graph.png" border="0" usemap="#xmipp3_8protocols_8protocol__screen__deepConsensus_8XmippProtScreenDeepConsensus_inherit__map" alt="Inheritance graph"/></div>
<map name="xmipp3_8protocols_8protocol__screen__deepConsensus_8XmippProtScreenDeepConsensus_inherit__map" id="xmipp3_8protocols_8protocol__screen__deepConsensus_8XmippProtScreenDeepConsensus_inherit__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus:</div>
<div class="dyncontent">
<div class="center"><img src="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus__coll__graph.png" border="0" usemap="#xmipp3_8protocols_8protocol__screen__deepConsensus_8XmippProtScreenDeepConsensus_coll__map" alt="Collaboration graph"/></div>
<map name="xmipp3_8protocols_8protocol__screen__deepConsensus_8XmippProtScreenDeepConsensus_coll__map" id="xmipp3_8protocols_8protocol__screen__deepConsensus_8XmippProtScreenDeepConsensus_coll__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0ededef81ccf71bc5070d7cb7b3bddb5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a0ededef81ccf71bc5070d7cb7b3bddb5">__init__</a> (self, args)</td></tr>
<tr class="separator:a0ededef81ccf71bc5070d7cb7b3bddb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab283f715a026c1f8b47294e35293bfd8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#ab283f715a026c1f8b47294e35293bfd8">justPredict</a> (self)</td></tr>
<tr class="separator:ab283f715a026c1f8b47294e35293bfd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f58f380c42648d61b7c4fffcc016b2a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a2f58f380c42648d61b7c4fffcc016b2a">endPredictingStep</a> (self)</td></tr>
<tr class="separator:a2f58f380c42648d61b7c4fffcc016b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbcdb8966eae404e91226acd6d2fa56d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#abbcdb8966eae404e91226acd6d2fa56d">endTrainingStep</a> (self)</td></tr>
<tr class="separator:abbcdb8966eae404e91226acd6d2fa56d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69b425b4af2391670c8bc3f3847120c0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a69b425b4af2391670c8bc3f3847120c0">lastRoundStep</a> (self)</td></tr>
<tr class="separator:a69b425b4af2391670c8bc3f3847120c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad45dd5554221c837cd598fb402c91c0d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#ad45dd5554221c837cd598fb402c91c0d">endProtocolStep</a> (self)</td></tr>
<tr class="separator:ad45dd5554221c837cd598fb402c91c0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4c48e82a16b39fbfb4ca0c9c13721a2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#aa4c48e82a16b39fbfb4ca0c9c13721a2">initializeStep</a> (self)</td></tr>
<tr class="separator:aa4c48e82a16b39fbfb4ca0c9c13721a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf794bab78a2f6fd14489829247ecf6b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#adf794bab78a2f6fd14489829247ecf6b">preprocessMicsStep</a> (self)</td></tr>
<tr class="separator:adf794bab78a2f6fd14489829247ecf6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe3a6d02e793665e725756a28553ee75"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#abe3a6d02e793665e725756a28553ee75">insertCaculateConsensusSteps</a> (self, mode, prerequisites)</td></tr>
<tr class="separator:abe3a6d02e793665e725756a28553ee75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73add030f69253acf871143123f3be61"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a73add030f69253acf871143123f3be61">waitFreeInputCoords</a> (self)</td></tr>
<tr class="separator:a73add030f69253acf871143123f3be61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5d53f0a301ecfffbc492cba74e8062c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#ab5d53f0a301ecfffbc492cba74e8062c">calculateCoorConsensusStep</a> (self, outCoordsDataPath, mode)</td></tr>
<tr class="separator:ab5d53f0a301ecfffbc492cba74e8062c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05277a2185aa0a1e66a6b6c89b4f8170"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a05277a2185aa0a1e66a6b6c89b4f8170">pickNoise</a> (self)</td></tr>
<tr class="separator:a05277a2185aa0a1e66a6b6c89b4f8170"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6cc8ae511a703b9193984fab2d10ac2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#af6cc8ae511a703b9193984fab2d10ac2">loadCoords</a> (self, posCoorsPath, mode, micSet=[])</td></tr>
<tr class="separator:af6cc8ae511a703b9193984fab2d10ac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf77db344bfa665e934389e06feb795f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#aaf77db344bfa665e934389e06feb795f">insertExtractPartSteps</a> (self, mode, prerequisites)</td></tr>
<tr class="separator:aaf77db344bfa665e934389e06feb795f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68a1cb0ba16c38c44e75446b435991cc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a68a1cb0ba16c38c44e75446b435991cc">extractParticles</a> (self, mode)</td></tr>
<tr class="separator:a68a1cb0ba16c38c44e75446b435991cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6589f418d002ddb565c1347500eeb650"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a6589f418d002ddb565c1347500eeb650">joinSetOfParticlesStep</a> (self, mode, micFns='', trainingPass='', clean=False)</td></tr>
<tr class="separator:a6589f418d002ddb565c1347500eeb650"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b3e3f597974911e5105857bd0e02d01"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a6b3e3f597974911e5105857bd0e02d01">doTraining</a> (self)</td></tr>
<tr class="separator:a6b3e3f597974911e5105857bd0e02d01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a612321dd977fad66d8fda5a127330be3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a612321dd977fad66d8fda5a127330be3">trainCNN</a> (self, toTrainMicFns)</td></tr>
<tr class="separator:a612321dd977fad66d8fda5a127330be3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3e6c4879fbde34e0bc1bded5d798739"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#ad3e6c4879fbde34e0bc1bded5d798739">predictCNN</a> (self)</td></tr>
<tr class="separator:ad3e6c4879fbde34e0bc1bded5d798739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8671d20a4e6f9b4c4af57a704375660c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a8671d20a4e6f9b4c4af57a704375660c">createOutputStep</a> (self, closeStream=False)</td></tr>
<tr class="separator:a8671d20a4e6f9b4c4af57a704375660c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8f1a79ef10419a64a9dbaf7c675bcbe"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#af8f1a79ef10419a64a9dbaf7c675bcbe">createFinalOutput</a> (self, closeStream=False)</td></tr>
<tr class="separator:af8f1a79ef10419a64a9dbaf7c675bcbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa492c55d32a3335bdcecaf06d4ae4c79"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#aa492c55d32a3335bdcecaf06d4ae4c79">createPreliminarOutput</a> (self, trPass)</td></tr>
<tr class="separator:aa492c55d32a3335bdcecaf06d4ae4c79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb33c549d09c0bab97d0963698a30214"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#afb33c549d09c0bab97d0963698a30214">getPreCoordinatesOutput</a> (self)</td></tr>
<tr class="separator:afb33c549d09c0bab97d0963698a30214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a156da61480ad5898f26900febde1ecbb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a156da61480ad5898f26900febde1ecbb">getCoordinatesOutput</a> (self)</td></tr>
<tr class="separator:a156da61480ad5898f26900febde1ecbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7322a20047cbd5cba7ca9f93baeffda4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a7322a20047cbd5cba7ca9f93baeffda4">getPreParticlesOutput</a> (self, partSet)</td></tr>
<tr class="separator:a7322a20047cbd5cba7ca9f93baeffda4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a081b3f5199ce02f5433bb85e1401db"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a7a081b3f5199ce02f5433bb85e1401db">getParticlesOutput</a> (self, partSet)</td></tr>
<tr class="separator:a7a081b3f5199ce02f5433bb85e1401db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8007018f4198055cf7aaa5c025a5496"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#ae8007018f4198055cf7aaa5c025a5496">updatePreOutput</a> (self, closeStream=False)</td></tr>
<tr class="separator:ae8007018f4198055cf7aaa5c025a5496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41d906f6298642e03d67b732377a29e8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a41d906f6298642e03d67b732377a29e8">updateOutput</a> (self, closeStream=False)</td></tr>
<tr class="separator:a41d906f6298642e03d67b732377a29e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08367166d2fd6621599e65a8962acbd1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a08367166d2fd6621599e65a8962acbd1">retrieveTrainSets</a> (self)</td></tr>
<tr class="separator:a08367166d2fd6621599e65a8962acbd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac89da19cca48d8222d3737943f4fe601"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#ac89da19cca48d8222d3737943f4fe601">getMicrographFnsWithCoordinates</a> (self, shared=True)</td></tr>
<tr class="separator:ac89da19cca48d8222d3737943f4fe601"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7f3eb10ab041863959bc2a8b6dd81bb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#ad7f3eb10ab041863959bc2a8b6dd81bb">getAllCoordsInputMicrographs</a> (self, shared=False)</td></tr>
<tr class="separator:ad7f3eb10ab041863959bc2a8b6dd81bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bf0ce9f1c8f468f772ff5188ff36f2b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a3bf0ce9f1c8f468f772ff5188ff36f2b">loadMicSetFromFns</a> (self, inputDir, micFns)</td></tr>
<tr class="separator:a3bf0ce9f1c8f468f772ff5188ff36f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a113eaf4d2af7d0654b41e08fcba63ec8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a113eaf4d2af7d0654b41e08fcba63ec8">getPreProcParamsFromForm</a> (self)</td></tr>
<tr class="separator:a113eaf4d2af7d0654b41e08fcba63ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83a25e91134ad96f5530b8f8da56e361"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a83a25e91134ad96f5530b8f8da56e361">predictionsOn</a> (self)</td></tr>
<tr class="separator:a83a25e91134ad96f5530b8f8da56e361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23b4386c87fd59ab470a0c4ff9f7bb04"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a23b4386c87fd59ab470a0c4ff9f7bb04">readyPreliminarPrediction</a> (self)</td></tr>
<tr class="separator:a23b4386c87fd59ab470a0c4ff9f7bb04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e457dbc4357cd3d59b907f490993a2e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a1e457dbc4357cd3d59b907f490993a2e">networkReadyToPredict</a> (self)</td></tr>
<tr class="separator:a1e457dbc4357cd3d59b907f490993a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6823035e659631d6b87042bc652a7012"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a6823035e659631d6b87042bc652a7012">cnnFree</a> (self)</td></tr>
<tr class="separator:a6823035e659631d6b87042bc652a7012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67b00b14be2076bb3ad62bae4bfac129"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a67b00b14be2076bb3ad62bae4bfac129">allFree</a> (self)</td></tr>
<tr class="separator:a67b00b14be2076bb3ad62bae4bfac129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae117190770032729df96563c283318"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a8ae117190770032729df96563c283318">checkIfParentsFinished</a> (self)</td></tr>
<tr class="separator:a8ae117190770032729df96563c283318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33c9613759aefa49625f06faf371dea6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a33c9613759aefa49625f06faf371dea6">checkIfNewMics</a> (self, mode='')</td></tr>
<tr class="separator:a33c9613759aefa49625f06faf371dea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a500b8cdaf0f2c98ab7f52370c56464d4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a500b8cdaf0f2c98ab7f52370c56464d4">getMicsIds</a> (self, filterOutNoCoords=False)</td></tr>
<tr class="separator:a500b8cdaf0f2c98ab7f52370c56464d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d27c206291e41aaf24b26f4b4fdf244"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a9d27c206291e41aaf24b26f4b4fdf244">getInputMicsFns</a> (self, shared)</td></tr>
<tr class="separator:a9d27c206291e41aaf24b26f4b4fdf244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adafe20c31707033388f3429971f888df"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#adafe20c31707033388f3429971f888df">prunePaths</a> (self, paths)</td></tr>
<tr class="separator:adafe20c31707033388f3429971f888df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e13156e3b74860011cc55c3acee5a83"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a0e13156e3b74860011cc55c3acee5a83">getPreprocessedMicFns</a> (self)</td></tr>
<tr class="separator:a0e13156e3b74860011cc55c3acee5a83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a96c0015c1c9957e622142f9d82c067"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a8a96c0015c1c9957e622142f9d82c067">getExtractedMicFns</a> (self, mode)</td></tr>
<tr class="separator:a8a96c0015c1c9957e622142f9d82c067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06408faa57927941487643de64851336"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a06408faa57927941487643de64851336">getTrainedMicFns</a> (self)</td></tr>
<tr class="separator:a06408faa57927941487643de64851336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c112c9f7e7e762985d15cf0d212fbd8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a7c112c9f7e7e762985d15cf0d212fbd8">getPredictedMicFns</a> (self)</td></tr>
<tr class="separator:a7c112c9f7e7e762985d15cf0d212fbd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d96406fc9f77c51574acdca470300fd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a2d96406fc9f77c51574acdca470300fd">readyToPreprocessMics</a> (self, shared)</td></tr>
<tr class="separator:a2d96406fc9f77c51574acdca470300fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76271a3289c311c7969fe10cb5797562"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a76271a3289c311c7969fe10cb5797562">readyToExtractMicFns</a> (self, mode)</td></tr>
<tr class="separator:a76271a3289c311c7969fe10cb5797562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7acb1066a154b4e2724239452c311a7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#ab7acb1066a154b4e2724239452c311a7">readyToTrainMicFns</a> (self)</td></tr>
<tr class="separator:ab7acb1066a154b4e2724239452c311a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeea34ba0b10db8113fb84cb64efa7af4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#aeea34ba0b10db8113fb84cb64efa7af4">readyToPredictMicFns</a> (self)</td></tr>
<tr class="separator:aeea34ba0b10db8113fb84cb64efa7af4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedb47571966d652d79256ad4c53bf864"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#aedb47571966d652d79256ad4c53bf864">getInpCoordsFns</a> (self, mode, extractedSetOfCoordsFns)</td></tr>
<tr class="separator:aedb47571966d652d79256ad4c53bf864"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a386e30130ab39554a82237874f040ad9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a386e30130ab39554a82237874f040ad9">loadTrainedParams</a> (self)</td></tr>
<tr class="separator:a386e30130ab39554a82237874f040ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20a9fa4cd627d80fe064f8e9ade6631f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a20a9fa4cd627d80fe064f8e9ade6631f">uploadTrainedParam</a> (self, keyParam, newValue)</td></tr>
<tr class="separator:a20a9fa4cd627d80fe064f8e9ade6631f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4510202fa66ba05fddfb6446c82f3af1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a4510202fa66ba05fddfb6446c82f3af1">saveTrainedParams</a> (self, params)</td></tr>
<tr class="separator:a4510202fa66ba05fddfb6446c82f3af1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acefd1d05f5c9148fd85679091cad4490"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#acefd1d05f5c9148fd85679091cad4490">retrievePreviousPassModel</a> (self, trPass, lastTrPass='')</td></tr>
<tr class="separator:acefd1d05f5c9148fd85679091cad4490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6291acd2655ec538072bf402c2aad596"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a6291acd2655ec538072bf402c2aad596">retrievePreviousRunModel</a> (self, prevProt, trPass='')</td></tr>
<tr class="separator:a6291acd2655ec538072bf402c2aad596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classxmipp3_1_1base_1_1XmippProtocol"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classxmipp3_1_1base_1_1XmippProtocol')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classxmipp3_1_1base_1_1XmippProtocol.html">xmipp3.base.XmippProtocol</a></td></tr>
<tr class="memitem:a7b0f8daa149c04d8d183cd7763dded25 inherit pub_methods_classxmipp3_1_1base_1_1XmippProtocol"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1base_1_1XmippProtocol.html#a7b0f8daa149c04d8d183cd7763dded25">convertInputToXmipp</a> (self, inputName, xmippClass, resultFn)</td></tr>
<tr class="separator:a7b0f8daa149c04d8d183cd7763dded25 inherit pub_methods_classxmipp3_1_1base_1_1XmippProtocol"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3209fbd40500c5e965b8d8e5e9a9202f inherit pub_methods_classxmipp3_1_1base_1_1XmippProtocol"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1base_1_1XmippProtocol.html#a3209fbd40500c5e965b8d8e5e9a9202f">getConvertedInput</a> (self, inputName)</td></tr>
<tr class="separator:a3209fbd40500c5e965b8d8e5e9a9202f inherit pub_methods_classxmipp3_1_1base_1_1XmippProtocol"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ed0c493783c462122981ab1b540fee5 inherit pub_methods_classxmipp3_1_1base_1_1XmippProtocol"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1base_1_1XmippProtocol.html#a6ed0c493783c462122981ab1b540fee5">getModel</a> (cls, modelPath, kwargs)</td></tr>
<tr class="separator:a6ed0c493783c462122981ab1b540fee5 inherit pub_methods_classxmipp3_1_1base_1_1XmippProtocol"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b2c45dcacaba699e2f9b7ce3ef68f0d inherit pub_methods_classxmipp3_1_1base_1_1XmippProtocol"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1base_1_1XmippProtocol.html#a6b2c45dcacaba699e2f9b7ce3ef68f0d">validateDLtoolkit</a> (self, errors=None, kwargs)</td></tr>
<tr class="separator:a6b2c45dcacaba699e2f9b7ce3ef68f0d inherit pub_methods_classxmipp3_1_1base_1_1XmippProtocol"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7ac1edd7507466f5ef62d62fba6c303 inherit pub_methods_classxmipp3_1_1base_1_1XmippProtocol"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1base_1_1XmippProtocol.html#ac7ac1edd7507466f5ef62d62fba6c303">getCondaEnv</a> (cls, kwargs)</td></tr>
<tr class="separator:ac7ac1edd7507466f5ef62d62fba6c303 inherit pub_methods_classxmipp3_1_1base_1_1XmippProtocol"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a20c82c27d41d5cb446d820697b9472d2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a20c82c27d41d5cb446d820697b9472d2">stepsExecutionMode</a></td></tr>
<tr class="separator:a20c82c27d41d5cb446d820697b9472d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed267558e41f958b5cd40d80a1711896"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#aed267558e41f958b5cd40d80a1711896">inputMicrographs</a></td></tr>
<tr class="separator:aed267558e41f958b5cd40d80a1711896"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64d8008422dd1fddbba5836ac9cdc34f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a64d8008422dd1fddbba5836ac9cdc34f">boxSize</a></td></tr>
<tr class="separator:a64d8008422dd1fddbba5836ac9cdc34f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86eed5f110ee7bb1c96f469b54377702"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a86eed5f110ee7bb1c96f469b54377702">coordinatesDict</a></td></tr>
<tr class="separator:a86eed5f110ee7bb1c96f469b54377702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0adc560e9f136a60e08abde74b9db26"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#af0adc560e9f136a60e08abde74b9db26">initDeps</a></td></tr>
<tr class="separator:af0adc560e9f136a60e08abde74b9db26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69f9bb773af999f5ae2a56a18d8fa671"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a69f9bb773af999f5ae2a56a18d8fa671">lastStep</a></td></tr>
<tr class="separator:a69f9bb773af999f5ae2a56a18d8fa671"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f6e6263ab145b0c60d91ef28e118286"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a6f6e6263ab145b0c60d91ef28e118286">endStep</a></td></tr>
<tr class="separator:a6f6e6263ab145b0c60d91ef28e118286"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade75cd8809882d96249b2d82e2069c0e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#ade75cd8809882d96249b2d82e2069c0e">newSteps</a></td></tr>
<tr class="separator:ade75cd8809882d96249b2d82e2069c0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a802db7e31c3cd460aadf5417c9ccf05c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a802db7e31c3cd460aadf5417c9ccf05c">PREPROCESSING</a></td></tr>
<tr class="separator:a802db7e31c3cd460aadf5417c9ccf05c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98b7bb93f2b2d5e787efe4dcfcc8b889"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a98b7bb93f2b2d5e787efe4dcfcc8b889">lastDeps</a></td></tr>
<tr class="separator:a98b7bb93f2b2d5e787efe4dcfcc8b889"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad17b4814d662971d2f152fd6fa2bdbbc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#ad17b4814d662971d2f152fd6fa2bdbbc">PREDICTING</a></td></tr>
<tr class="separator:ad17b4814d662971d2f152fd6fa2bdbbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8412936d31fc927e806b41fd692c068f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a8412936d31fc927e806b41fd692c068f">TRAINING</a></td></tr>
<tr class="separator:a8412936d31fc927e806b41fd692c068f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac277f760f1a582ce9cb71b562fa65851"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#ac277f760f1a582ce9cb71b562fa65851">LAST_ROUND</a></td></tr>
<tr class="separator:ac277f760f1a582ce9cb71b562fa65851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b3d620616460a9840d688b100832347"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a5b3d620616460a9840d688b100832347">ENDED</a></td></tr>
<tr class="separator:a5b3d620616460a9840d688b100832347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a120e898ba5227036a576a9af4516521f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a120e898ba5227036a576a9af4516521f">depLastPredict</a></td></tr>
<tr class="separator:a120e898ba5227036a576a9af4516521f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76e862870bba4cd28ca4331da262ada7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a76e862870bba4cd28ca4331da262ada7">trainingDataType</a></td></tr>
<tr class="separator:a76e862870bba4cd28ca4331da262ada7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac07ad728888abbc15ace1c018a964c82"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#ac07ad728888abbc15ace1c018a964c82">inSamplingRate</a></td></tr>
<tr class="separator:ac07ad728888abbc15ace1c018a964c82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866ac3ef351278ec293deaf7d0235ad2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a866ac3ef351278ec293deaf7d0235ad2">preCoordSet</a></td></tr>
<tr class="separator:a866ac3ef351278ec293deaf7d0235ad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addad715a48ed1f02fcb225622a146909"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#addad715a48ed1f02fcb225622a146909">USING_INPUT_COORDS</a></td></tr>
<tr class="separator:addad715a48ed1f02fcb225622a146909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d573983c1ff308674861cd52d62fbb9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a4d573983c1ff308674861cd52d62fbb9">TO_TRAIN_MICFNS</a></td></tr>
<tr class="separator:a4d573983c1ff308674861cd52d62fbb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4459c663a5a397ee3218f7945edcc3b1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a4459c663a5a397ee3218f7945edcc3b1">curTrainedParams</a></td></tr>
<tr class="separator:a4459c663a5a397ee3218f7945edcc3b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6554d0dbd7abecdcf64eb014686dd99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#ac6554d0dbd7abecdcf64eb014686dd99">depsTrain</a></td></tr>
<tr class="separator:ac6554d0dbd7abecdcf64eb014686dd99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae328404bf14af64fda4f97e5583b1ce6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#ae328404bf14af64fda4f97e5583b1ce6">outputCoordinates</a></td></tr>
<tr class="separator:ae328404bf14af64fda4f97e5583b1ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa49a0733bb24235c5c7d8c4dd103d514"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#aa49a0733bb24235c5c7d8c4dd103d514">preliminarOutputParticles</a></td></tr>
<tr class="separator:aa49a0733bb24235c5c7d8c4dd103d514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abed689426fefba236601cca94b897878"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#abed689426fefba236601cca94b897878">preliminarOutputCoordinates</a></td></tr>
<tr class="separator:abed689426fefba236601cca94b897878"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a496d1c62cea95a462452b72207b706b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a496d1c62cea95a462452b72207b706b7">outputParticles</a></td></tr>
<tr class="separator:a496d1c62cea95a462452b72207b706b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5608c42799d665801ba7dbf7f3848179"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a5608c42799d665801ba7dbf7f3848179">downFactor</a></td></tr>
<tr class="separator:a5608c42799d665801ba7dbf7f3848179"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a595423963a6875cdf437a622d664a691"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a595423963a6875cdf437a622d664a691">USING_INPUT_COORDS</a> = False</td></tr>
<tr class="separator:a595423963a6875cdf437a622d664a691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cee98a7efaa5e1a686235a83c478734"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a3cee98a7efaa5e1a686235a83c478734">CONSENSUS_COOR_PATH_TEMPLATE</a> = &quot;consensus_coords_%s&quot;</td></tr>
<tr class="separator:a3cee98a7efaa5e1a686235a83c478734"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85f53775aa1336ec94ae0ea4f102ecfe"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a85f53775aa1336ec94ae0ea4f102ecfe">CONSENSUS_PARTS_PATH_TEMPLATE</a> = &quot;consensus_parts_%s&quot;</td></tr>
<tr class="separator:a85f53775aa1336ec94ae0ea4f102ecfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0abee034cc35c7ad02be41b357512fef"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a0abee034cc35c7ad02be41b357512fef">PRE_PROC_MICs_PATH</a> = &quot;preProcMics&quot;</td></tr>
<tr class="separator:a0abee034cc35c7ad02be41b357512fef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ca9a6b6fe3821dc873e34c93b7b6741"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a0ca9a6b6fe3821dc873e34c93b7b6741">PARTICLES_TEMPLATE</a> = &quot;particles{}.xmd&quot;</td></tr>
<tr class="separator:a0ca9a6b6fe3821dc873e34c93b7b6741"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2355e0333764867c1df9298059d53ea7"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a2355e0333764867c1df9298059d53ea7">NET_TEMPLATE</a> = &quot;nnetData{}&quot;</td></tr>
<tr class="separator:a2355e0333764867c1df9298059d53ea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f45413ba1ad2c83c5a0f3e6b27cb521"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a6f45413ba1ad2c83c5a0f3e6b27cb521">ADD_DATA_TRAIN_TYPES</a> = [&quot;None&quot;, &quot;Precompiled&quot;, &quot;Custom&quot;]</td></tr>
<tr class="separator:a6f45413ba1ad2c83c5a0f3e6b27cb521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea384f51e088c8e44e266dd83402d77d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#aea384f51e088c8e44e266dd83402d77d">ADD_DATA_TRAIN_NONE</a> = 0</td></tr>
<tr class="separator:aea384f51e088c8e44e266dd83402d77d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad431186a98ba6f807013f1648884da45"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#ad431186a98ba6f807013f1648884da45">ADD_DATA_TRAIN_PRECOMP</a> = 1</td></tr>
<tr class="separator:ad431186a98ba6f807013f1648884da45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6515c800df9e103e6fee21c811f66aa2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a6515c800df9e103e6fee21c811f66aa2">ADD_DATA_TRAIN_CUST</a> = 2</td></tr>
<tr class="separator:a6515c800df9e103e6fee21c811f66aa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf139d9e6e47a519cd2c4f9f37c392c6"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#acf139d9e6e47a519cd2c4f9f37c392c6">ADD_DATA_TRAIN_CUSTOM_OPT</a> = [&quot;Particles&quot;, &quot;Coordinates&quot; ]</td></tr>
<tr class="separator:acf139d9e6e47a519cd2c4f9f37c392c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a87963ac91924b7cca80f0479deb86c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a4a87963ac91924b7cca80f0479deb86c">ADD_DATA_TRAIN_CUSTOM_OPT_PARTS</a> = 0</td></tr>
<tr class="separator:a4a87963ac91924b7cca80f0479deb86c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad17bc532c26b13a703e5eee90b1dd2dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#ad17bc532c26b13a703e5eee90b1dd2dd">ADD_DATA_TRAIN_CUSTOM_OPT_COORS</a> = 1</td></tr>
<tr class="separator:ad17bc532c26b13a703e5eee90b1dd2dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfc15159f4eb30364ff67d2a90685186"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#adfc15159f4eb30364ff67d2a90685186">ADD_MODEL_TRAIN_TYPES</a> = [&quot;New&quot;, &quot;Pretrained&quot;, &quot;PreviousRun&quot;]</td></tr>
<tr class="separator:adfc15159f4eb30364ff67d2a90685186"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d8ea29608d3cfa76d285398908b4b3d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a5d8ea29608d3cfa76d285398908b4b3d">ADD_MODEL_TRAIN_NEW</a> = 0</td></tr>
<tr class="separator:a5d8ea29608d3cfa76d285398908b4b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbcefac86f854df7f166a88a42178207"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#acbcefac86f854df7f166a88a42178207">ADD_MODEL_TRAIN_PRETRAIN</a> = 1</td></tr>
<tr class="separator:acbcefac86f854df7f166a88a42178207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1875998f4c955f029d90de32bcaf3003"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a1875998f4c955f029d90de32bcaf3003">ADD_MODEL_TRAIN_PREVRUN</a> = 2</td></tr>
<tr class="separator:a1875998f4c955f029d90de32bcaf3003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba398492c9520d12d16b7be1e53a4981"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#aba398492c9520d12d16b7be1e53a4981">PREPROCESSING</a> = False</td></tr>
<tr class="separator:aba398492c9520d12d16b7be1e53a4981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a6c801e8c75517f68ec5ee9047628ed"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a3a6c801e8c75517f68ec5ee9047628ed">TO_EXTRACT_MICFNS</a></td></tr>
<tr class="separator:a3a6c801e8c75517f68ec5ee9047628ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a950b30282b522b90d8d6c94cad845628"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a950b30282b522b90d8d6c94cad845628">EXTRACTING</a></td></tr>
<tr class="separator:a950b30282b522b90d8d6c94cad845628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f0304c5f7b3721d18689e7ebb90040f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a1f0304c5f7b3721d18689e7ebb90040f">TRAIN_BATCH_MAX</a> = 20</td></tr>
<tr class="separator:a1f0304c5f7b3721d18689e7ebb90040f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a4fa70abb346fc72289083732ed79d0"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a1a4fa70abb346fc72289083732ed79d0">TO_TRAIN_MICFNS</a> = []</td></tr>
<tr class="separator:a1a4fa70abb346fc72289083732ed79d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a875929bf1e170b71863eaa881db9cd73"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a875929bf1e170b71863eaa881db9cd73">TRAINED_PARAMS_PATH</a> = 'trainedParams.pickle'</td></tr>
<tr class="separator:a875929bf1e170b71863eaa881db9cd73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c7426caec9f29b1ff1c36131d6d96f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a96c7426caec9f29b1ff1c36131d6d96f">TRAINING</a> = False</td></tr>
<tr class="separator:a96c7426caec9f29b1ff1c36131d6d96f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaee845fab1a10245cfc86f05f75551da"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#aaee845fab1a10245cfc86f05f75551da">PREDICTING</a> = False</td></tr>
<tr class="separator:aaee845fab1a10245cfc86f05f75551da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc1844290405ecad7434a5b171cafd1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#a4fc1844290405ecad7434a5b171cafd1">LAST_ROUND</a> = False</td></tr>
<tr class="separator:a4fc1844290405ecad7434a5b171cafd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa83427ec06cec189c1c50eb1f4947874"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__screen__deepConsensus_1_1XmippProtScreenDeepConsensus.html#aa83427ec06cec189c1c50eb1f4947874">ENDED</a> = False</td></tr>
<tr class="separator:aa83427ec06cec189c1c50eb1f4947874"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Protocol to compute a smart consensus between different particle picking
    algorithms. The protocol takes several Sets of Coordinates calculated
    by different programs and/or different parameter settings. Let's say:
    we consider N independent pickings. Then, a neural network is trained
    using different subset of picked and not picked cooridantes. Finally,
    a coordinate is considered to be a correct particle according to the
    neural network predictions.
    In streaming, the network is trained and used to predict in batches.
    The network is trained until the number of particles set is reached,
    meanwhile, a preliminary output is generated. Once the threshold is reached,
    the final output is produced by batches.
</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00063">63</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0ededef81ccf71bc5070d7cb7b3bddb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ededef81ccf71bc5070d7cb7b3bddb5">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00123">123</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keyword">def </span>__init__(self, **args):</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        ProtParticlePicking.__init__(self, **args)</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        self.stepsExecutionMode = params.STEPS_PARALLEL</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a67b00b14be2076bb3ad62bae4bfac129"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67b00b14be2076bb3ad62bae4bfac129">&#9670;&nbsp;</a></span>allFree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.allFree </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Kind of "traficlight" that specifies if there is not extraction, training or prediction going on, which would
alterate the states of the protocol</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01382">1382</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keyword">def </span>allFree(self):</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Kind of &quot;traficlight&quot; that specifies if there is not extraction, training or prediction going on, which would</span></div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="stringliteral">      alterate the states of the protocol&#39;&#39;&#39;</span></div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      gExtracting = <span class="keyword">False</span></div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <span class="keywordflow">for</span> mode <span class="keywordflow">in</span> [<span class="stringliteral">&#39;OR&#39;</span>, <span class="stringliteral">&#39;NOISE&#39;</span>, <span class="stringliteral">&#39;AND&#39;</span>]:</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        <span class="keywordflow">if</span> self.EXTRACTING[mode]:</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;          gExtracting = <span class="keyword">True</span></div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      <span class="keywordflow">return</span> <span class="keywordflow">not</span> self.PREDICTING <span class="keywordflow">and</span> <span class="keywordflow">not</span> self.TRAINING <span class="keywordflow">and</span> <span class="keywordflow">not</span> gExtracting <span class="keywordflow">and</span> <span class="keywordflow">not</span> self.PREPROCESSING</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="ab5d53f0a301ecfffbc492cba74e8062c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5d53f0a301ecfffbc492cba74e8062c">&#9670;&nbsp;</a></span>calculateCoorConsensusStep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.calculateCoorConsensusStep </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>outCoordsDataPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Calculates the consensus coordinates from micrographs whose particles haven't been extracted yet in "mode"</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00664">664</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keyword">def </span>calculateCoorConsensusStep(self, outCoordsDataPath, mode):</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Calculates the consensus coordinates from micrographs whose particles haven&#39;t been extracted yet in &quot;mode&quot;&#39;&#39;&#39;</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <span class="comment">#Only calculate consensus for coordinates that has not been extracted yet</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      <span class="keywordflow">if</span> self.checkIfNewMics(mode):</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        extractedSetOfCoordsFns = []</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="keywordflow">for</span> micFn <span class="keywordflow">in</span> self.getExtractedMicFns(mode):</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;          extractedSetOfCoordsFns.append(pwutils.path.replaceBaseExt(micFn,<span class="stringliteral">&#39;pos&#39;</span>))</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        self.waitFreeInputCoords()</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        inputCoordsFnames = self.getInpCoordsFns(mode, extractedSetOfCoordsFns)</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        self.USING_INPUT_COORDS = <span class="keyword">False</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;          </div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        inputFileHeader=<span class="stringliteral">&quot;#pos_i\n&quot;</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        inputFileStr=inputFileHeader</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">for</span> baseName <span class="keywordflow">in</span> inputCoordsFnames:</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;          fnames= inputCoordsFnames[baseName]</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;          inputFileStr+=<span class="stringliteral">&quot; &quot;</span>.join(fnames)+<span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="keyword">assert</span> len(inputFileStr)&gt;len(inputFileHeader), <span class="stringliteral">&quot;Error, no consensus can be computed as there &quot;</span> \</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                                                       <span class="stringliteral">&quot;are mismatch in coordinate sets filenames&quot;</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        consensus = -1 <span class="keywordflow">if</span> mode==<span class="stringliteral">&quot;AND&quot;</span> <span class="keywordflow">else</span> 1</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        configFname= self._getTmpPath(<span class="stringliteral">&quot;consensus_%s_inputs.txt&quot;</span>%(mode) )</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        with open(configFname, <span class="stringliteral">&quot;w&quot;</span>) <span class="keyword">as</span> f:</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            f.write(inputFileStr)</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        args=<span class="stringliteral">&quot;-i %s -s %d -c %d -d %f -o %s -t %d&quot;</span>%(configFname, self._getBoxSize(), consensus, self.consensusRadius.get(),</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                                                   outCoordsDataPath, self.numberOfThreads.get())</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        self.runJob(<span class="stringliteral">&#39;xmipp_coordinates_consensus&#39;</span>, args, numberOfMpi=1)</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        self.TO_EXTRACT_MICFNS[mode] = self.readyToExtractMicFns(mode)</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a33c9613759aefa49625f06faf371dea6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33c9613759aefa49625f06faf371dea6">&#9670;&nbsp;</a></span>checkIfNewMics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.checkIfNewMics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check if the are new micrographs ready for extracting particles</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01404">1404</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keyword">def </span>checkIfNewMics(self, mode=&#39;&#39;):</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Check if the are new micrographs ready for extracting particles&#39;&#39;&#39;</span></div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      <span class="keywordflow">if</span> mode == <span class="stringliteral">&#39;&#39;</span>:</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        <span class="keywordflow">for</span> mode <span class="keywordflow">in</span> [<span class="stringliteral">&#39;OR&#39;</span>, <span class="stringliteral">&#39;NOISE&#39;</span>, <span class="stringliteral">&#39;AND&#39;</span>]:</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;          <span class="keywordflow">if</span> len(self.readyToExtractMicFns(mode)) &gt; 0:</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">True</span></div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;      <span class="keywordflow">else</span>:</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <span class="keywordflow">if</span> len(self.readyToExtractMicFns(mode)) &gt; 0:</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">True</span></div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a8ae117190770032729df96563c283318"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ae117190770032729df96563c283318">&#9670;&nbsp;</a></span>checkIfParentsFinished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.checkIfParentsFinished </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check the streamState of the coordinates input to check if the parent protocols are finsihed</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01391">1391</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keyword">def </span>checkIfParentsFinished(self):</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Check the streamState of the coordinates input to check if the parent protocols are finsihed&#39;&#39;&#39;</span></div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      self.waitFreeInputCoords()</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      finished=<span class="keyword">True</span></div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      <span class="keywordflow">for</span> coords <span class="keywordflow">in</span> self.inputCoordinates:</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        coords = coords.get()</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        coords.loadAllProperties()</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <span class="keywordflow">if</span> coords.isStreamOpen():</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;          finished = <span class="keyword">False</span></div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;          <span class="keywordflow">break</span></div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;      self.USING_INPUT_COORDS = <span class="keyword">False</span></div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      <span class="keywordflow">return</span> finished</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a6823035e659631d6b87042bc652a7012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6823035e659631d6b87042bc652a7012">&#9670;&nbsp;</a></span>cnnFree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.cnnFree </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01379">1379</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keyword">def </span>cnnFree(self):</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;      <span class="keywordflow">return</span> <span class="keywordflow">not</span> self.PREDICTING <span class="keywordflow">and</span> <span class="keywordflow">not</span> self.TRAINING</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="af8f1a79ef10419a64a9dbaf7c675bcbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8f1a79ef10419a64a9dbaf7c675bcbe">&#9670;&nbsp;</a></span>createFinalOutput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.createFinalOutput </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>closeStream</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01049">1049</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keyword">def </span>createFinalOutput(self, closeStream=False):</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      predExten = <span class="stringliteral">&#39;_partial&#39;</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      partSet = self._createSetOfParticles(<span class="stringliteral">&quot;outputParts_tmp{}&quot;</span>.format(predExten))</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <a class="code" href="namespacexmipp3_1_1convert_1_1convert.html#a51700c7ba1f3d28d5756a61a06408a5d">readSetOfParticles</a>(self._getPath(self.PARTICLES_TEMPLATE.format(predExten)), partSet)</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      partSet.setSamplingRate(self._getDownFactor() * self.inSamplingRate)</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;      self.outputParticles, self.outputCoordinates = self.getParticlesOutput(partSet), self.getCoordinatesOutput()</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      downFactor = self._getDownFactor()</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <span class="keywordflow">for</span> part <span class="keywordflow">in</span> partSet:</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        coord = part.getCoordinate().clone()</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        coord.scale(downFactor)</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        deepZscoreLabel = <span class="stringliteral">&#39;_xmipp_%s&#39;</span> % emlib.label2Str(md.MDL_ZSCORE_DEEPLEARNING1)</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        setattr(coord, deepZscoreLabel, getattr(part, deepZscoreLabel))</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        newPart = Particle()</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        newPart.copy(part, copyId=<span class="keyword">False</span>)</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        newPart.scaleCoordinate(downFactor)</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <span class="keywordflow">if</span> (self.threshold.get() &lt; 0 <span class="keywordflow">or</span></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                getattr(newPart, deepZscoreLabel) &gt; self.threshold.get()):</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;          self.outputCoordinates.append(coord)</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;          self.outputParticles.append(newPart)</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      cleanPattern(self._getPath(self.PARTICLES_TEMPLATE.format(predExten)))</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      cleanPattern(self._getPath(<span class="stringliteral">&quot;*outputParts_tmp{}.sqlite&quot;</span>.format(predExten)))</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      <a class="code" href="namespacexmipp3_1_1convert_1_1convert.html#a497bb7406003a5e6c285ef27b5242230">writeSetOfParticles</a>(self.outputParticles, self._getPath(<span class="stringliteral">&quot;particles.xmd&quot;</span>))</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      self.updateOutput(closeStream)</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;</div><div class="ttc" id="namespacexmipp3_1_1convert_1_1convert_html_a497bb7406003a5e6c285ef27b5242230"><div class="ttname"><a href="namespacexmipp3_1_1convert_1_1convert.html#a497bb7406003a5e6c285ef27b5242230">xmipp3.convert.convert.writeSetOfParticles</a></div><div class="ttdeci">def writeSetOfParticles(imgSet, filename, blockName='Particles', kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="convert_8py_source.html#l01095">convert.py:1095</a></div></div>
<div class="ttc" id="namespacexmipp3_1_1convert_1_1convert_html_a51700c7ba1f3d28d5756a61a06408a5d"><div class="ttname"><a href="namespacexmipp3_1_1convert_1_1convert.html#a51700c7ba1f3d28d5756a61a06408a5d">xmipp3.convert.convert.readSetOfParticles</a></div><div class="ttdeci">def readSetOfParticles(filename, partSet, kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="convert_8py_source.html#l01079">convert.py:1079</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8671d20a4e6f9b4c4af57a704375660c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8671d20a4e6f9b4c4af57a704375660c">&#9670;&nbsp;</a></span>createOutputStep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.createOutputStep </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>closeStream</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01039">1039</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keyword">def </span>createOutputStep(self, closeStream=False):</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;      trPass = self.loadTrainedParams()[<span class="stringliteral">&#39;trainingPass&#39;</span>]</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      <span class="keywordflow">if</span> <span class="keywordflow">not</span> <span class="stringliteral">&quot;OR&quot;</span> <span class="keywordflow">in</span> self.coordinatesDict:</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        self.loadCoords(self._getExtraPath(self.CONSENSUS_COOR_PATH_TEMPLATE % <span class="stringliteral">&#39;OR&#39;</span>), <span class="stringliteral">&#39;OR&#39;</span>)</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <span class="keywordflow">if</span> trPass == <span class="stringliteral">&#39;&#39;</span>:</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        self.createFinalOutput(closeStream)</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <span class="keywordflow">else</span>:</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        self.createPreliminarOutput(trPass)</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="aa492c55d32a3335bdcecaf06d4ae4c79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa492c55d32a3335bdcecaf06d4ae4c79">&#9670;&nbsp;</a></span>createPreliminarOutput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.createPreliminarOutput </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>trPass</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01076">1076</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="keyword">def </span>createPreliminarOutput(self, trPass):</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;      partSet = self._createSetOfParticles(<span class="stringliteral">&quot;outputParts_tmp{}&quot;</span>.format(trPass))</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      <a class="code" href="namespacexmipp3_1_1convert_1_1convert.html#a51700c7ba1f3d28d5756a61a06408a5d">readSetOfParticles</a>(self._getPath(self.PARTICLES_TEMPLATE.format(trPass)), partSet)</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      partSet.setSamplingRate(self._getDownFactor() * self.inSamplingRate)</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      self.preliminarOutputParticles = self.getPreParticlesOutput(partSet)</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      self.preliminarOutputCoordinates = self.getPreCoordinatesOutput()</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      downFactor = self._getDownFactor()</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      <span class="keywordflow">for</span> part <span class="keywordflow">in</span> partSet:</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        coord = part.getCoordinate().clone()</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        coord.scale(downFactor)</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        deepZscoreLabel = <span class="stringliteral">&#39;_xmipp_%s&#39;</span> % emlib.label2Str(md.MDL_ZSCORE_DEEPLEARNING1)</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        setattr(coord, deepZscoreLabel, getattr(part, deepZscoreLabel))</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        part = part.clone()</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        part.scaleCoordinate(downFactor)</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <span class="keywordflow">if</span> (self.threshold.get() &lt; 0 <span class="keywordflow">or</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                getattr(part, deepZscoreLabel) &gt; self.threshold.get()):</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;          self.preliminarOutputCoordinates.append(coord)</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;          self.preliminarOutputParticles.append(part)</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      cleanPattern(self._getPath(self.PARTICLES_TEMPLATE.format(trPass)))</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      cleanPattern(self._getPath(<span class="stringliteral">&quot;*outputParts_tmp{}.sqlite&quot;</span>.format(trPass)))</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      <a class="code" href="namespacexmipp3_1_1convert_1_1convert.html#a497bb7406003a5e6c285ef27b5242230">writeSetOfParticles</a>(self.preliminarOutputParticles, self._getPath(self.PARTICLES_TEMPLATE.format(trPass)))</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      self.updatePreOutput(closeStream=<span class="keyword">True</span>)</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div><div class="ttc" id="namespacexmipp3_1_1convert_1_1convert_html_a497bb7406003a5e6c285ef27b5242230"><div class="ttname"><a href="namespacexmipp3_1_1convert_1_1convert.html#a497bb7406003a5e6c285ef27b5242230">xmipp3.convert.convert.writeSetOfParticles</a></div><div class="ttdeci">def writeSetOfParticles(imgSet, filename, blockName='Particles', kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="convert_8py_source.html#l01095">convert.py:1095</a></div></div>
<div class="ttc" id="namespacexmipp3_1_1convert_1_1convert_html_a51700c7ba1f3d28d5756a61a06408a5d"><div class="ttname"><a href="namespacexmipp3_1_1convert_1_1convert.html#a51700c7ba1f3d28d5756a61a06408a5d">xmipp3.convert.convert.readSetOfParticles</a></div><div class="ttdeci">def readSetOfParticles(filename, partSet, kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="convert_8py_source.html#l01079">convert.py:1079</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6b3e3f597974911e5105857bd0e02d01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b3e3f597974911e5105857bd0e02d01">&#9670;&nbsp;</a></span>doTraining()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.doTraining </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Prepares the positive (AND) and negative (NOISE) coordinates for the training and executes it</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00856">856</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keyword">def </span>doTraining(self):</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Prepares the positive (AND) and negative (NOISE) coordinates for the training and executes it&#39;&#39;&#39;</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      <span class="keywordflow">if</span> len(self.readyToExtractMicFns(<span class="stringliteral">&#39;NOISE&#39;</span>)) &gt;= self.extractingBatch.get() <span class="keywordflow">and</span> <span class="keywordflow">not</span> self.EXTRACTING[<span class="stringliteral">&#39;NOISE&#39;</span>]:</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        self.EXTRACTING[<span class="stringliteral">&#39;NOISE&#39;</span>] = <span class="keyword">True</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        depNoise = self._insertFunctionStep(<span class="stringliteral">&#39;pickNoise&#39;</span>, prerequisites=self.initDeps)</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        self.newSteps += self.insertExtractPartSteps(<span class="stringliteral">&#39;NOISE&#39;</span>, prerequisites=[depNoise])</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <span class="keywordflow">if</span> len(self.readyToExtractMicFns(<span class="stringliteral">&#39;AND&#39;</span>)) &gt;= self.extractingBatch.get() <span class="keywordflow">and</span> <span class="keywordflow">not</span> self.EXTRACTING[<span class="stringliteral">&#39;AND&#39;</span>]:</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        self.EXTRACTING[<span class="stringliteral">&#39;AND&#39;</span>] = <span class="keyword">True</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        depsAnd = self.insertCaculateConsensusSteps(<span class="stringliteral">&#39;AND&#39;</span>, prerequisites=self.initDeps)</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        self.newSteps += self.insertExtractPartSteps(<span class="stringliteral">&#39;AND&#39;</span>, prerequisites=depsAnd)</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      trainedParams = self.loadTrainedParams()</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <span class="keywordflow">if</span> self.addTrainingData.get() == self.ADD_DATA_TRAIN_CUST <span class="keywordflow">and</span> \</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;              self.trainingDataType == self.ADD_DATA_TRAIN_CUSTOM_OPT_COORS:</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="keywordflow">if</span> self.trainTrueSetOfCoords.get() <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> \</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                len(self.readyToExtractMicFns(<span class="stringliteral">&#39;ADDITIONAL_COORDS_TRUE&#39;</span>)) &gt;= self.extractingBatch.get():</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;          self.TO_EXTRACT_MICFNS[<span class="stringliteral">&#39;ADDITIONAL_COORDS_TRUE&#39;</span>] = self.readyToExtractMicFns(<span class="stringliteral">&#39;ADDITIONAL_COORDS_TRUE&#39;</span>)</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;          self.newSteps += self.insertExtractPartSteps(<span class="stringliteral">&#39;ADDITIONAL_COORDS_TRUE&#39;</span>, prerequisites=self.initDeps)</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keywordflow">if</span> self.trainFalseSetOfCoords.get() <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> \</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                len(self.readyToExtractMicFns(<span class="stringliteral">&#39;ADDITIONAL_COORDS_FALSE&#39;</span>)) &gt;= self.extractingBatch.get():</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;          self.TO_EXTRACT_MICFNS[<span class="stringliteral">&#39;ADDITIONAL_COORDS_FALSE&#39;</span>] = self.readyToExtractMicFns(<span class="stringliteral">&#39;ADDITIONAL_COORDS_FALSE&#39;</span>)</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;          self.newSteps += self.insertExtractPartSteps(<span class="stringliteral">&#39;ADDITIONAL_COORDS_FALSE&#39;</span>, prerequisites=self.initDeps)</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <span class="keywordflow">if</span> self.cnnFree():</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        self.TO_TRAIN_MICFNS = self.readyToTrainMicFns()</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">if</span> len(self.TO_TRAIN_MICFNS) &gt;= self.trainingBatch.get():</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;          self.TRAINING = <span class="keyword">True</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;          self.curTrainedParams = trainedParams</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;          self.depsTrain = [self._insertFunctionStep(<span class="stringliteral">&#39;trainCNN&#39;</span>, self.TO_TRAIN_MICFNS, prerequisites=self.initDeps)]</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;          self.depsTrain = [self._insertFunctionStep(<span class="stringliteral">&#39;endTrainingStep&#39;</span>, prerequisites=self.depsTrain)]</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;          self.newSteps += self.depsTrain</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a2f58f380c42648d61b7c4fffcc016b2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f58f380c42648d61b7c4fffcc016b2a">&#9670;&nbsp;</a></span>endPredictingStep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.endPredictingStep </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00523">523</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keyword">def </span>endPredictingStep(self):</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      self.PREDICTING = <span class="keyword">False</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="ad45dd5554221c837cd598fb402c91c0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad45dd5554221c837cd598fb402c91c0d">&#9670;&nbsp;</a></span>endProtocolStep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.endProtocolStep </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Finish the protocol with a final prediction using the final CNN</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00537">537</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keyword">def </span>endProtocolStep(self):</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Finish the protocol with a final prediction using the final CNN&#39;&#39;&#39;</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      lastTrainingPass = self.loadTrainedParams()[<span class="stringliteral">&#39;trainingPass&#39;</span>]</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <span class="keywordflow">if</span> lastTrainingPass != <span class="stringliteral">&#39;&#39;</span>:</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        self.retrievePreviousPassModel(<span class="stringliteral">&#39;&#39;</span>, lastTrainingPass)</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        self.uploadTrainedParam(<span class="stringliteral">&#39;trainingPass&#39;</span>, <span class="stringliteral">&#39;&#39;</span>)</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        self.ENDED = <span class="keyword">True</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        self.depLastPredict = self._insertFunctionStep(<span class="stringliteral">&#39;predictCNN&#39;</span>, prerequisites=[self.endStep])</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        self._insertFunctionStep(<span class="stringliteral">&#39;createOutputStep&#39;</span>, <span class="keyword">True</span>, prerequisites=[self.depLastPredict])</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <span class="keywordflow">else</span>:</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        self.updateOutput(closeStream=<span class="keyword">True</span>)</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="abbcdb8966eae404e91226acd6d2fa56d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbcdb8966eae404e91226acd6d2fa56d">&#9670;&nbsp;</a></span>endTrainingStep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.endTrainingStep </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00526">526</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keyword">def </span>endTrainingStep(self):</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      self.saveTrainedParams(self.curTrainedParams)</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      self.TRAINING = <span class="keyword">False</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a68a1cb0ba16c38c44e75446b435991cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68a1cb0ba16c38c44e75446b435991cc">&#9670;&nbsp;</a></span>extractParticles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.extractParticles </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Extract the particles from a set of micrographs with their corresponding coordinates</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00783">783</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keyword">def </span>extractParticles(self, mode):</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Extract the particles from a set of micrographs with their corresponding coordinates&#39;&#39;&#39;</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        micsFnameSet = {}</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        posDir = self._getExtraPath(self.CONSENSUS_COOR_PATH_TEMPLATE % mode)</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        preprocMicsPath = self._getExtraPath(self.PRE_PROC_MICs_PATH)</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        toExtractMicFns = self.TO_EXTRACT_MICFNS[mode]</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        print(<span class="stringliteral">&#39;To extract in mode {}: {}&#39;</span>.format(mode, toExtractMicFns))</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <span class="keywordflow">if</span> len(toExtractMicFns) &lt;= 0:</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;          <span class="keywordflow">return</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <span class="keywordflow">for</span> micFname <span class="keywordflow">in</span> toExtractMicFns:</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;          micFnameBase= pwutils.removeExt(micFname)</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;          micFname= os.path.join(preprocMicsPath, micFname)</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;          micsFnameSet[micFnameBase]= micFname</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        extractCoordsContent=<span class="stringliteral">&quot;#mics coords\n&quot;</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="keywordflow">if</span> mode.startswith(<span class="stringliteral">&quot;ADDITIONAL_COORDS&quot;</span>):</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;          <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.exists(posDir):</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            os.mkdir(posDir)</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;          <span class="keywordflow">if</span> mode.endswith(<span class="stringliteral">&quot;TRUE&quot;</span>):</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            coordSet= self.trainTrueSetOfCoords.get()</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;          <span class="keywordflow">elif</span> mode.endswith(<span class="stringliteral">&quot;FALSE&quot;</span>):</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;            coordSet= self.trainFalseSetOfCoords.get()</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;          <a class="code" href="namespacexmipp3_1_1convert_1_1convert.html#adde52074a45887455f088f4451546694">writeSetOfCoordinates</a>(posDir, coordSet)</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <span class="keywordflow">for</span> posFname <span class="keywordflow">in</span> os.listdir(posDir):</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;          posNameBase=  pwutils.removeExt(posFname)</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;          posFname= os.path.join(posDir, posFname)</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;          <span class="keywordflow">if</span> posNameBase <span class="keywordflow">in</span> micsFnameSet:</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            extractCoordsContent+= <span class="stringliteral">&quot;%s particles@%s\n&quot;</span>%(micsFnameSet[posNameBase], posFname)</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        inputsFname= self._getTmpPath(<span class="stringliteral">&quot;extractParticles_inputs_%s.txt&quot;</span>%mode)</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        outputDir= self._getConsensusParticlesDir(mode)</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.exists(outputDir):</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;          makePath(outputDir)</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        nThrs= self.numberOfThreads.get()</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        with open(inputsFname, <span class="stringliteral">&quot;w&quot;</span>) <span class="keyword">as</span> f:</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;          f.write(extractCoordsContent)</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        downFactor= self._getDownFactor()</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        args= <span class="stringliteral">&quot;-i %s -s %s -d %s -o %s -t %d&quot;</span>%(inputsFname, DEEP_PARTICLE_SIZE, downFactor, outputDir, nThrs)</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        self.runJob(<span class="stringliteral">&#39;xmipp_extract_particles&#39;</span>, args, numberOfMpi=1)</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div><div class="ttc" id="namespacexmipp3_1_1convert_1_1convert_html_adde52074a45887455f088f4451546694"><div class="ttname"><a href="namespacexmipp3_1_1convert_1_1convert.html#adde52074a45887455f088f4451546694">xmipp3.convert.convert.writeSetOfCoordinates</a></div><div class="ttdeci">def writeSetOfCoordinates(posDir, coordSet, ismanual=True, scale=1)</div><div class="ttdef"><b>Definition:</b> <a href="convert_8py_source.html#l00804">convert.py:804</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad7f3eb10ab041863959bc2a8b6dd81bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7f3eb10ab041863959bc2a8b6dd81bb">&#9670;&nbsp;</a></span>getAllCoordsInputMicrographs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.getAllCoordsInputMicrographs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shared</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a dic {micFn: mic} with the input micrographs present associated with all the input coordinates sets.
If shared, the list contains only those micrographs present in all input coordinates sets, else the list contains
all microgrpah present in any set (Intersection vs Union)
Do not create a set, because of concurrency in the database</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01243">1243</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keyword">def </span>getAllCoordsInputMicrographs(self, shared=False):</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Returns a dic {micFn: mic} with the input micrographs present associated with all the input coordinates sets.</span></div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="stringliteral">      If shared, the list contains only those micrographs present in all input coordinates sets, else the list contains</span></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="stringliteral">      all microgrpah present in any set (Intersection vs Union)</span></div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="stringliteral">      Do not create a set, because of concurrency in the database&#39;&#39;&#39;</span></div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      self.waitFreeInputCoords()</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      micDict, micFns = {}, <a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>([])</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      <span class="keywordflow">for</span> inputCoord <span class="keywordflow">in</span> self.inputCoordinates:</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        newMics = inputCoord.get().getMicrographs()</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        newMicFns = []</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <span class="keywordflow">for</span> mic <span class="keywordflow">in</span> newMics:</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;          micFn = self.prunePaths([mic.getFileName()])[0]</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;          micDict[micFn] = mic.clone()</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;          newMicFns.append(micFn)</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        <span class="keywordflow">if</span> micFns == <a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>([]) <span class="keywordflow">or</span> <span class="keywordflow">not</span> shared:</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;          micFns = micFns | <a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(newMicFns)</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;          micFns = micFns &amp; <a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(newMicFns)</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      self.USING_INPUT_COORDS = <span class="keyword">False</span></div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      sharedMicDict = {}</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      <span class="keywordflow">for</span> micFn <span class="keywordflow">in</span> micFns:</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        sharedMicDict[micFn] = micDict[micFn]</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      <span class="keywordflow">return</span> sharedMicDict</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;</div><div class="ttc" id="namespacecpp_1_1gmock__class_html_a2157e96eee0b4bf9ca6d195ab76f59c2"><div class="ttname"><a href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">cpp.gmock_class.set</a></div><div class="ttdeci">set</div><div class="ttdef"><b>Definition:</b> <a href="gmock__class_8py_source.html#l00044">gmock_class.py:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a156da61480ad5898f26900febde1ecbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a156da61480ad5898f26900febde1ecbb">&#9670;&nbsp;</a></span>getCoordinatesOutput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.getCoordinatesOutput </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01115">1115</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keyword">def </span>getCoordinatesOutput(self):</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(self, <span class="stringliteral">&quot;outputCoordinates&quot;</span>):</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        print(<span class="stringliteral">&#39;Creating new outputCoordinates set&#39;</span>)</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        self.outputCoordinates = self._createSetOfCoordinates(self.coordinatesDict[<span class="stringliteral">&#39;OR&#39;</span>].getMicrographs())</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        self.outputCoordinates.copyInfo(self.coordinatesDict[<span class="stringliteral">&#39;OR&#39;</span>])</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        self.outputCoordinates.setBoxSize(self._getBoxSize())</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        self.outputCoordinates.setStreamState(SetOfParticles.STREAM_OPEN)</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        self._defineOutputs(outputCoordinates=self.outputCoordinates)</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        self.waitFreeInputCoords()</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        <span class="keywordflow">for</span> inSetOfCoords <span class="keywordflow">in</span> self.inputCoordinates:</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;          self._defineSourceRelation(inSetOfCoords.get(), self.outputCoordinates)</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        self.USING_INPUT_COORDS = <span class="keyword">False</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      <span class="keywordflow">else</span>:</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <span class="comment"># Micrographs of the set removed because there might be new ones in streaming</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        self.outputCoordinates.setMicrographs(self.coordinatesDict[<span class="stringliteral">&#39;OR&#39;</span>].getMicrographs())</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <span class="keywordflow">return</span> self.outputCoordinates</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a8a96c0015c1c9957e622142f9d82c067"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a96c0015c1c9957e622142f9d82c067">&#9670;&nbsp;</a></span>getExtractedMicFns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.getExtractedMicFns </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the list of extracted micrograph filenames
(micrographs where particles of type "mode" have been extracted)</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01446">1446</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="keyword">def </span>getExtractedMicFns(self, mode):</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Return the list of extracted micrograph filenames</span></div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;<span class="stringliteral">      (micrographs where particles of type &quot;mode&quot; have been extracted)&#39;&#39;&#39;</span></div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      outputDir = self._getConsensusParticlesDir(mode)</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;      <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.exists(outputDir):</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        <span class="keywordflow">return</span> []</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      fns, micFns = os.listdir(outputDir), []</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      <span class="keywordflow">for</span> fn <span class="keywordflow">in</span> fns:</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        micFns.append(pwutils.path.replaceBaseExt(fn, <span class="stringliteral">&#39;mrc&#39;</span>))</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;      <span class="keywordflow">return</span> list(<a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(micFns))</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;</div><div class="ttc" id="namespacecpp_1_1gmock__class_html_a2157e96eee0b4bf9ca6d195ab76f59c2"><div class="ttname"><a href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">cpp.gmock_class.set</a></div><div class="ttdeci">set</div><div class="ttdef"><b>Definition:</b> <a href="gmock__class_8py_source.html#l00044">gmock_class.py:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aedb47571966d652d79256ad4c53bf864"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedb47571966d652d79256ad4c53bf864">&#9670;&nbsp;</a></span>getInpCoordsFns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.getInpCoordsFns </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>extractedSetOfCoordsFns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01494">1494</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="keyword">def </span>getInpCoordsFns(self, mode, extractedSetOfCoordsFns):</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      Tm = []</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      <span class="keywordflow">for</span> coordinatesP <span class="keywordflow">in</span> self.inputCoordinates:</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        mics = coordinatesP.get().getMicrographs()</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;        Tm.append(mics.getSamplingRate())</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      nCoordsSets = len(Tm)</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      inputCoordsFnames = {}</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      <span class="keywordflow">for</span> coord_num, coordinatesP <span class="keywordflow">in</span> enumerate(self.inputCoordinates):</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        tmpPosDir = self._getTmpPath(<span class="stringliteral">&quot;input_coords_%d_%s&quot;</span> % (coord_num, mode))</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.exists(tmpPosDir):</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;          makePath(tmpPosDir)</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        <a class="code" href="namespacexmipp3_1_1convert_1_1convert.html#adde52074a45887455f088f4451546694">writeSetOfCoordinates</a>(tmpPosDir, coordinatesP.get(), scale=float(Tm[coord_num]) / float(Tm[0]))</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        <span class="keywordflow">for</span> posFname <span class="keywordflow">in</span> os.listdir(tmpPosDir):</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;          baseName, extension = os.path.splitext(os.path.basename(posFname))</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;          <span class="keywordflow">if</span> extension == <span class="stringliteral">&quot;.pos&quot;</span> <span class="keywordflow">and</span> <span class="keywordflow">not</span> posFname <span class="keywordflow">in</span> extractedSetOfCoordsFns:</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;            <span class="keywordflow">if</span> baseName <span class="keywordflow">not</span> <span class="keywordflow">in</span> inputCoordsFnames:</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;              inputCoordsFnames[baseName] = [<span class="stringliteral">&quot;None&quot;</span>] * nCoordsSets</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;            inputCoordsFnames[baseName][coord_num] = os.path.join(tmpPosDir, posFname)</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      <span class="keywordflow">return</span> inputCoordsFnames</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;</div><div class="ttc" id="namespacexmipp3_1_1convert_1_1convert_html_adde52074a45887455f088f4451546694"><div class="ttname"><a href="namespacexmipp3_1_1convert_1_1convert.html#adde52074a45887455f088f4451546694">xmipp3.convert.convert.writeSetOfCoordinates</a></div><div class="ttdeci">def writeSetOfCoordinates(posDir, coordSet, ismanual=True, scale=1)</div><div class="ttdef"><b>Definition:</b> <a href="convert_8py_source.html#l00804">convert.py:804</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d27c206291e41aaf24b26f4b4fdf244"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d27c206291e41aaf24b26f4b4fdf244">&#9670;&nbsp;</a></span>getInputMicsFns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.getInputMicsFns </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shared</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns the input micrographs filenames</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01429">1429</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keyword">def </span>getInputMicsFns(self, shared):</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Returns the input micrographs filenames&#39;&#39;&#39;</span></div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      <span class="keywordflow">return</span> sorted(self.getAllCoordsInputMicrographs(shared).keys())</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="ac89da19cca48d8222d3737943f4fe601"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac89da19cca48d8222d3737943f4fe601">&#9670;&nbsp;</a></span>getMicrographFnsWithCoordinates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.getMicrographFnsWithCoordinates </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shared</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a list with the filenames of those microgrpahs which already have coordinates associated in the input
sets. If shared, it must be in all the sets, if not shared, at least in one</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01223">1223</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="keyword">def </span>getMicrographFnsWithCoordinates(self, shared=True):</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Return a list with the filenames of those microgrpahs which already have coordinates associated in the input</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="stringliteral">      sets. If shared, it must be in all the sets, if not shared, at least in one&#39;&#39;&#39;</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      sharedMics = self.getAllCoordsInputMicrographs(shared)</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      self.waitFreeInputCoords()</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      micPaths = []</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <span class="keywordflow">for</span> micFn <span class="keywordflow">in</span> sharedMics:</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        coordsInMic, mic = [], sharedMics[micFn]</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        <span class="keywordflow">for</span> coordSet <span class="keywordflow">in</span> self.inputCoordinates:</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;          <span class="keywordflow">for</span> coord <span class="keywordflow">in</span> coordSet.get().iterCoordinates(mic):</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;            coordsInMic.append(coord)</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;            <span class="keywordflow">break</span></div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        <span class="keywordflow">if</span> len(coordsInMic) == len(self.inputCoordinates):</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;          micPaths.append(mic.getFileName())</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      self.USING_INPUT_COORDS = <span class="keyword">False</span></div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      micFns = self.prunePaths(micPaths)</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      <span class="keywordflow">return</span> micFns</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a500b8cdaf0f2c98ab7f52370c56464d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a500b8cdaf0f2c98ab7f52370c56464d4">&#9670;&nbsp;</a></span>getMicsIds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.getMicsIds </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filterOutNoCoords</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns the input micrographs Ids</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01416">1416</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="keyword">def </span>getMicsIds(self, filterOutNoCoords=False):</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Returns the input micrographs Ids&#39;&#39;&#39;</span></div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> filterOutNoCoords:</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;          <span class="keywordflow">return</span> self._getInputMicrographs().getIdSet()</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        self.waitFreeInputCoords()</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        micFnames, micIds = <a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>([]), <a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>([])</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <span class="keywordflow">for</span> coordinatesP <span class="keywordflow">in</span> self.inputCoordinates:</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;            <span class="keywordflow">for</span> coord <span class="keywordflow">in</span> coordinatesP.get():</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;              micIds.add( coord.getMicId())</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;              micFnames.add( coord.getMicName() )</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        self.USING_INPUT_COORDS = <span class="keyword">False</span></div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        <span class="keywordflow">return</span> sorted( micIds )</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;</div><div class="ttc" id="namespacecpp_1_1gmock__class_html_a2157e96eee0b4bf9ca6d195ab76f59c2"><div class="ttname"><a href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">cpp.gmock_class.set</a></div><div class="ttdeci">set</div><div class="ttdef"><b>Definition:</b> <a href="gmock__class_8py_source.html#l00044">gmock_class.py:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a081b3f5199ce02f5433bb85e1401db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a081b3f5199ce02f5433bb85e1401db">&#9670;&nbsp;</a></span>getParticlesOutput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.getParticlesOutput </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>partSet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01140">1140</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="keyword">def </span>getParticlesOutput(self, partSet):</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(self, <span class="stringliteral">&quot;outputParticles&quot;</span>):</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        print(<span class="stringliteral">&#39;Creating new outputParticles set&#39;</span>)</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        self.outputParticles = self._createSetOfParticles()</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        self.outputParticles.copyInfo(partSet)</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        self.outputParticles.setStreamState(SetOfParticles.STREAM_OPEN)</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        self._defineOutputs(outputParticles=self.outputParticles)</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      <span class="keywordflow">return</span> self.outputParticles</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="afb33c549d09c0bab97d0963698a30214"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb33c549d09c0bab97d0963698a30214">&#9670;&nbsp;</a></span>getPreCoordinatesOutput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.getPreCoordinatesOutput </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01102">1102</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keyword">def </span>getPreCoordinatesOutput(self):</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      print(<span class="stringliteral">&#39;Creating new preliminarOutputCoordinates set&#39;</span>)</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      self.preliminarOutputCoordinates = self._createSetOfCoordinates(self.coordinatesDict[<span class="stringliteral">&#39;OR&#39;</span>].getMicrographs())</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      self.preliminarOutputCoordinates.copyInfo(self.coordinatesDict[<span class="stringliteral">&#39;OR&#39;</span>])</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      self.preliminarOutputCoordinates.setBoxSize(self._getBoxSize())</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      self.preliminarOutputCoordinates.setStreamState(SetOfParticles.STREAM_OPEN)</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      self._defineOutputs(preliminarOutputCoordinates=self.preliminarOutputCoordinates)</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      self.waitFreeInputCoords()</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <span class="keywordflow">for</span> inSetOfCoords <span class="keywordflow">in</span> self.inputCoordinates:</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        self._defineSourceRelation(inSetOfCoords.get(), self.preliminarOutputCoordinates)</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      self.USING_INPUT_COORDS = <span class="keyword">False</span></div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      <span class="keywordflow">return</span> self.preliminarOutputCoordinates</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a7c112c9f7e7e762985d15cf0d212fbd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c112c9f7e7e762985d15cf0d212fbd8">&#9670;&nbsp;</a></span>getPredictedMicFns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.getPredictedMicFns </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the list of microgrpahs whose particles have been used for prediction</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01462">1462</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="keyword">def </span>getPredictedMicFns(self):</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Return the list of microgrpahs whose particles have been used for prediction&#39;&#39;&#39;</span></div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      trainedParams = self.loadTrainedParams()</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;      <span class="keywordflow">return</span> trainedParams[<span class="stringliteral">&#39;predictedMicFns&#39;</span>]</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a7322a20047cbd5cba7ca9f93baeffda4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7322a20047cbd5cba7ca9f93baeffda4">&#9670;&nbsp;</a></span>getPreParticlesOutput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.getPreParticlesOutput </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>partSet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01132">1132</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <span class="keyword">def </span>getPreParticlesOutput(self, partSet):</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      print(<span class="stringliteral">&#39;Creating new preliminarOutputParticles set&#39;</span>)</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      self.preliminarOutputParticles = self._createSetOfParticles()</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      self.preliminarOutputParticles.copyInfo(partSet)</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      self.preliminarOutputParticles.setStreamState(SetOfParticles.STREAM_OPEN)</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      self._defineOutputs(preliminarOutputParticles=self.preliminarOutputParticles)</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      <span class="keywordflow">return</span> self.preliminarOutputParticles</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a0e13156e3b74860011cc55c3acee5a83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e13156e3b74860011cc55c3acee5a83">&#9670;&nbsp;</a></span>getPreprocessedMicFns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.getPreprocessedMicFns </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the list of preprocessed micrograph filenames</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01439">1439</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keyword">def </span>getPreprocessedMicFns(self):</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Return the list of preprocessed micrograph filenames&#39;&#39;&#39;</span></div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      prepDir = self._getExtraPath(self.PRE_PROC_MICs_PATH)</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;      <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.exists(prepDir):</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        <span class="keywordflow">return</span> []</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      <span class="keywordflow">return</span> os.listdir(prepDir)</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a113eaf4d2af7d0654b41e08fcba63ec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a113eaf4d2af7d0654b41e08fcba63ec8">&#9670;&nbsp;</a></span>getPreProcParamsFromForm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.getPreProcParamsFromForm </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01316">1316</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="keyword">def </span>getPreProcParamsFromForm(self):</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        mics_= self._getInputMicrographs()</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        mic = mics_.getFirstItem()</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;        fnMic = mic.getFileName()</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        pathToMics= os.path.split(fnMic)[0]</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        pathToCtfs= <span class="stringliteral">&quot;None&quot;</span></div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.ignoreCTF.get():</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;          pathToCtfs=  os.path.split(self.ctfRelations.get().getFileName())[0]</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        paramsInfo={<span class="stringliteral">&quot;mics_ignoreCTF&quot;</span>: self.ignoreCTF.get(),</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                    <span class="stringliteral">&quot;mics_skipInvert&quot;</span>: self.skipInvert.get(),</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                    <span class="stringliteral">&quot;mics_pathToMics&quot;</span>: pathToMics,</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                    <span class="stringliteral">&quot;mics_pathToCtfs&quot;</span>: pathToCtfs}</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        self.waitFreeInputCoords()</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        coordsNames=[]</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        <span class="keywordflow">for</span> inputCoords <span class="keywordflow">in</span> self.inputCoordinates:</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;          coordsNames.append( inputCoords.get().getFileName() )</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        self.USING_INPUT_COORDS = <span class="keyword">False</span></div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        coordsNames= tuple(sorted(coordsNames))</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        paramsInfo[<span class="stringliteral">&quot;coords_pathCoords&quot;</span>]= coordsNames</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <span class="keywordflow">return</span> paramsInfo</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a06408faa57927941487643de64851336"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06408faa57927941487643de64851336">&#9670;&nbsp;</a></span>getTrainedMicFns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.getTrainedMicFns </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the list of microgrpahs whose particles have been used for training</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01457">1457</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="keyword">def </span>getTrainedMicFns(self):</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Return the list of microgrpahs whose particles have been used for training&#39;&#39;&#39;</span></div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      trainedParams = self.loadTrainedParams()</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      <span class="keywordflow">return</span> trainedParams[<span class="stringliteral">&#39;trainedMicFns&#39;</span>]</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="aa4c48e82a16b39fbfb4ca0c9c13721a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4c48e82a16b39fbfb4ca0c9c13721a2">&#9670;&nbsp;</a></span>initializeStep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.initializeStep </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Create paths where data will be saved
</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00550">550</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keyword">def </span>initializeStep(self):</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="stringliteral">            Create paths where data will be saved</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordflow">if</span> self.doTesting.get() <span class="keywordflow">and</span> self.testTrueSetOfParticles.get() <span class="keywordflow">and</span> self.testFalseSetOfParticles.get():</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            <a class="code" href="namespacexmipp3_1_1convert_1_1convert.html#a497bb7406003a5e6c285ef27b5242230">writeSetOfParticles</a>(self.testTrueSetOfParticles.get(),</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                                self._getExtraPath(<span class="stringliteral">&quot;testTrueParticlesSet.xmd&quot;</span>))</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <a class="code" href="namespacexmipp3_1_1convert_1_1convert.html#a497bb7406003a5e6c285ef27b5242230">writeSetOfParticles</a>(self.testFalseSetOfParticles.get(),</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                                self._getExtraPath(<span class="stringliteral">&quot;testFalseParticlesSet.xmd&quot;</span>))</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">if</span> self.addTrainingData.get() == self.ADD_DATA_TRAIN_CUST:</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;          <span class="keywordflow">if</span> self.trainingDataType== self.ADD_DATA_TRAIN_CUSTOM_OPT_PARTS:</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;              <span class="keywordflow">if</span> self.trainTrueSetOfParticles.get():</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                  <a class="code" href="namespacexmipp3_1_1convert_1_1convert.html#a497bb7406003a5e6c285ef27b5242230">writeSetOfParticles</a>(self.trainTrueSetOfParticles.get(),</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                                      self._getExtraPath(<span class="stringliteral">&quot;trainTrueParticlesSet.xmd&quot;</span>))</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;              <span class="keywordflow">if</span> self.trainFalseSetOfParticles.get():</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                  <a class="code" href="namespacexmipp3_1_1convert_1_1convert.html#a497bb7406003a5e6c285ef27b5242230">writeSetOfParticles</a>(self.trainFalseSetOfParticles.get(),</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                                      self._getExtraPath(<span class="stringliteral">&quot;trainFalseParticlesSet.xmd&quot;</span>))</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <span class="keywordflow">elif</span> self.addTrainingData.get() == self.ADD_DATA_TRAIN_PRECOMP:</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <a class="code" href="namespacexmipp3_1_1convert_1_1convert.html#a497bb7406003a5e6c285ef27b5242230">writeSetOfParticles</a>(self.retrieveTrainSets(),</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                                self._getTmpPath(<span class="stringliteral">&quot;addNegTrainParticles.xmd&quot;</span>))</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        makePath(self._getExtraPath(self.PRE_PROC_MICs_PATH))</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordflow">for</span> mode <span class="keywordflow">in</span> [<span class="stringliteral">&quot;AND&quot;</span>, <span class="stringliteral">&quot;OR&quot;</span>, <span class="stringliteral">&quot;NOISE&quot;</span>]:</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            consensusCoordsPath = self.CONSENSUS_COOR_PATH_TEMPLATE % mode</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            makePath(self._getExtraPath(consensusCoordsPath))</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <span class="keywordflow">if</span> self._doContinue():</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;          <span class="keywordflow">if</span> self.skipTraining.get():</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            trPass=<span class="stringliteral">&#39;&#39;</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;          <span class="keywordflow">else</span>:</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            trPass=1</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;          self.retrievePreviousRunModel(self.continueRun.get(), trPass)</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;          self.uploadTrainedParam(<span class="stringliteral">&#39;trainingPass&#39;</span>, trPass)</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="keywordflow">if</span> self._usePretrainedModel() <span class="keywordflow">and</span> self.skipTraining.get():</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;          trPass=<span class="stringliteral">&#39;&#39;</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;          self.uploadTrainedParam(<span class="stringliteral">&#39;trainingPass&#39;</span>, trPass)</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        </div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordflow">if</span> self._useNewModel() <span class="keywordflow">and</span> self.skipTraining.get():</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;          self.skipTraining.<a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(<span class="keyword">False</span>)</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        preprocessParamsFname= self._getExtraPath(<span class="stringliteral">&quot;preprocess_params.json&quot;</span>)</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        preprocParams= self.getPreProcParamsFromForm()</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        with open(preprocessParamsFname, <span class="stringliteral">&quot;w&quot;</span>) <span class="keyword">as</span> f:</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;          json.dump(preprocParams, f)</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="comment">#Initializing outputs</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        self.inSamplingRate = self._getInputMicrographs().getSamplingRate()</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        self.preCorrectedParSet, self.preCoordSet = [], []</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="ttc" id="namespacexmipp3_1_1convert_1_1convert_html_a497bb7406003a5e6c285ef27b5242230"><div class="ttname"><a href="namespacexmipp3_1_1convert_1_1convert.html#a497bb7406003a5e6c285ef27b5242230">xmipp3.convert.convert.writeSetOfParticles</a></div><div class="ttdeci">def writeSetOfParticles(imgSet, filename, blockName='Particles', kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="convert_8py_source.html#l01095">convert.py:1095</a></div></div>
<div class="ttc" id="namespacecpp_1_1gmock__class_html_a2157e96eee0b4bf9ca6d195ab76f59c2"><div class="ttname"><a href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">cpp.gmock_class.set</a></div><div class="ttdeci">set</div><div class="ttdef"><b>Definition:</b> <a href="gmock__class_8py_source.html#l00044">gmock_class.py:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abe3a6d02e793665e725756a28553ee75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe3a6d02e793665e725756a28553ee75">&#9670;&nbsp;</a></span>insertCaculateConsensusSteps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.insertCaculateConsensusSteps </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prerequisites</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Insert the steps neccessary for calculating the consensus coordinates of type "mode"</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00650">650</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keyword">def </span>insertCaculateConsensusSteps(self, mode, prerequisites):</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Insert the steps neccessary for calculating the consensus coordinates of type &quot;mode&quot;&#39;&#39;&#39;</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        outCoordsDataPath = self._getExtraPath(self.CONSENSUS_COOR_PATH_TEMPLATE% mode)</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.exists(outCoordsDataPath):</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;          makePath(outCoordsDataPath)</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        newDep = self._insertFunctionStep(<span class="stringliteral">&#39;calculateCoorConsensusStep&#39;</span>, outCoordsDataPath, mode, prerequisites=prerequisites)</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        newDep = self._insertFunctionStep(<span class="stringliteral">&#39;loadCoords&#39;</span>, outCoordsDataPath, mode, prerequisites=[newDep])</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keywordflow">return</span> [newDep]</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    </div></div><!-- fragment -->
</div>
</div>
<a id="aaf77db344bfa665e934389e06feb795f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf77db344bfa665e934389e06feb795f">&#9670;&nbsp;</a></span>insertExtractPartSteps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.insertExtractPartSteps </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prerequisites</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Inserts the steps necessary for extracting the particles from the micrographs</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00776">776</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keyword">def </span>insertExtractPartSteps(self, mode, prerequisites):</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Inserts the steps necessary for extracting the particles from the micrographs&#39;&#39;&#39;</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        self.newSteps = []</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        self.newSteps.append(self._insertFunctionStep(<span class="stringliteral">&quot;extractParticles&quot;</span>, mode, prerequisites= prerequisites))</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        self.newSteps.append(self._insertFunctionStep(<span class="stringliteral">&quot;joinSetOfParticlesStep&quot;</span>, mode, prerequisites= self.newSteps))</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <span class="keywordflow">return</span> self.newSteps</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a6589f418d002ddb565c1347500eeb650"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6589f418d002ddb565c1347500eeb650">&#9670;&nbsp;</a></span>joinSetOfParticlesStep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.joinSetOfParticlesStep </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>micFns</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>trainingPass</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>clean</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Stores the particles extracted from a set of micrographs in a images.xmd metadata file</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00826">826</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keyword">def </span>joinSetOfParticlesStep(self, mode, micFns=&#39;&#39;, trainingPass=&#39;&#39;, clean=False):</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Stores the particles extracted from a set of micrographs in a images.xmd metadata file&#39;&#39;&#39;</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        fnImages = self._getExtraPath(<span class="stringliteral">&quot;particles_{}{}.xmd&quot;</span>.format(mode, trainingPass))</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        posDir = self._getExtraPath(self.CONSENSUS_COOR_PATH_TEMPLATE % mode)</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        <span class="keywordflow">if</span> micFns == <span class="stringliteral">&#39;&#39;</span>:</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;          micFns = self.TO_EXTRACT_MICFNS[mode]</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;          self.TO_EXTRACT_MICFNS[mode] = []</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;          print(<span class="stringliteral">&#39;Updating set of particles written in {}&#39;</span>.format(fnImages))</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;          print(<span class="stringliteral">&#39;Creating set of particles in {}&#39;</span>.format(fnImages))</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        imgsXmd = md.MetaData()</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <span class="keywordflow">for</span> micFn <span class="keywordflow">in</span> micFns:</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;          posFn = os.path.join(posDir, pwutils.replaceBaseExt(micFn, <span class="stringliteral">&quot;pos&quot;</span>))</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;          xmdFn = os.path.join(self._getConsensusParticlesDir(mode),</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                               pwutils.replaceBaseExt(posFn, <span class="stringliteral">&quot;xmd&quot;</span>))</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;          <span class="keywordflow">if</span> os.path.exists(xmdFn):</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;            mdFn = md.MetaData(xmdFn)</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;            mdPos = md.MetaData(<span class="stringliteral">&#39;particles@%s&#39;</span> % posFn)</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            mdPos.merge(mdFn)</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            imgsXmd.unionAll(mdPos)</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;          <span class="keywordflow">else</span>:</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            self.warning(<span class="stringliteral">&quot;The coord file %s wasn&#39;t used for extraction! &quot;</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                         % os.path.basename(posFn))</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.exists(fnImages) <span class="keywordflow">or</span> clean:</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;          imgsXmd.write(fnImages)</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;          imgsXmd.append(fnImages)</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        self.EXTRACTING[mode] = <span class="keyword">False</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="ab283f715a026c1f8b47294e35293bfd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab283f715a026c1f8b47294e35293bfd8">&#9670;&nbsp;</a></span>justPredict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.justPredict </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00455">455</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keyword">def </span>justPredict(self):</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keywordflow">return</span> self.skipTraining.get()==<span class="keyword">True</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    </div></div><!-- fragment -->
</div>
</div>
<a id="a69b425b4af2391670c8bc3f3847120c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69b425b4af2391670c8bc3f3847120c0">&#9670;&nbsp;</a></span>lastRoundStep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.lastRoundStep </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Starts the last round of training and predictions with the remainign microgrpahs
when all the inputs have arrived</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00530">530</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keyword">def </span>lastRoundStep(self):</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Starts the last round of training and predictions with the remainign microgrpahs</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="stringliteral">      when all the inputs have arrived&#39;&#39;&#39;</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      self.extractingBatch.<a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(1)</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      self.trainingBatch.<a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(1)</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      self.LAST_ROUND = <span class="keyword">True</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="ttc" id="namespacecpp_1_1gmock__class_html_a2157e96eee0b4bf9ca6d195ab76f59c2"><div class="ttname"><a href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">cpp.gmock_class.set</a></div><div class="ttdeci">set</div><div class="ttdef"><b>Definition:</b> <a href="gmock__class_8py_source.html#l00044">gmock_class.py:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af6cc8ae511a703b9193984fab2d10ac2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6cc8ae511a703b9193984fab2d10ac2">&#9670;&nbsp;</a></span>loadCoords()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.loadCoords </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>posCoorsPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>micSet</em> = <code>[]</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00744">744</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keyword">def </span>loadCoords(self, posCoorsPath, mode, micSet=[]):</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="comment">#Upload coords sqlite</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> micSet == []:</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;          <span class="comment">#Load coordinates from an specific set of mics</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;          batchSetOfCoordinates = self._createSetOfCoordinates(micSet)</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;          batchSetOfCoordinates.setBoxSize(self._getBoxSize())</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;          <a class="code" href="namespacexmipp3_1_1convert_1_1convert.html#acb4e36ab7d9f3d5db49829706eda5d2c">readSetOfCoordinates</a>(posCoorsPath, micSet=micSet, coordSet = batchSetOfCoordinates)</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;          <span class="keywordflow">if</span> mode <span class="keywordflow">in</span> self.coordinatesDict:</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            <span class="keywordflow">for</span> newCoord <span class="keywordflow">in</span> batchSetOfCoordinates:</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;              apCoord = Coordinate()</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;              apCoord.copy(newCoord, copyId=<span class="keyword">False</span>)</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;              self.coordinatesDict[mode].append(apCoord)</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;          <span class="keywordflow">else</span>:</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            self.coordinatesDict[mode] = batchSetOfCoordinates</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;          sqliteName = self._getExtraPath(self.CONSENSUS_COOR_PATH_TEMPLATE % mode) + <span class="stringliteral">&quot;.sqlite&quot;</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;          <span class="keywordflow">if</span> os.path.isfile(self._getExtraPath(sqliteName)):</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            cleanPath(self._getExtraPath(sqliteName))</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;          </div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;          self.waitFreeInputCoords()</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;          totalSetOfCoordinates = <a class="code" href="namespacexmipp3_1_1convert_1_1io__coordinates.html#a333d502f671ad9949e3508e8d63d74b4">readSetOfCoordsFromPosFnames</a>(posCoorsPath,</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                                                               setOfInputCoords=self.inputCoordinates[0].get(),</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                                                               sqliteOutName=sqliteName, write=<span class="keyword">True</span>)</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;          self.USING_INPUT_COORDS=<span class="keyword">False</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;          print(<span class="stringliteral">&quot;Coordinates %s size: %d&quot;</span> % (mode, totalSetOfCoordinates.getSize()))</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;          <span class="keyword">assert</span> totalSetOfCoordinates.getSize() &gt; MIN_NUM_CONSENSUS_COORDS, \</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            (<span class="stringliteral">&quot;Error, the consensus (%s) of your input coordinates was too small (%s). &quot;</span> +</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;             <span class="stringliteral">&quot;It must be &gt; %s. Try a different input...&quot;</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;             ) % (mode, str(totalSetOfCoordinates.getSize()), str(MIN_NUM_CONSENSUS_COORDS))</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;          self.coordinatesDict[mode] = totalSetOfCoordinates</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="ttc" id="namespacexmipp3_1_1convert_1_1io__coordinates_html_a333d502f671ad9949e3508e8d63d74b4"><div class="ttname"><a href="namespacexmipp3_1_1convert_1_1io__coordinates.html#a333d502f671ad9949e3508e8d63d74b4">xmipp3.convert.io_coordinates.readSetOfCoordsFromPosFnames</a></div><div class="ttdeci">def readSetOfCoordsFromPosFnames(posDir, setOfInputCoords, sqliteOutName, write=True)</div><div class="ttdef"><b>Definition:</b> <a href="io__coordinates_8py_source.html#l00010">io_coordinates.py:10</a></div></div>
<div class="ttc" id="namespacexmipp3_1_1convert_1_1convert_html_acb4e36ab7d9f3d5db49829706eda5d2c"><div class="ttname"><a href="namespacexmipp3_1_1convert_1_1convert.html#acb4e36ab7d9f3d5db49829706eda5d2c">xmipp3.convert.convert.readSetOfCoordinates</a></div><div class="ttdeci">def readSetOfCoordinates(outputDir, micSet, coordSet, readDiscarded=False, scale=1)</div><div class="ttdef"><b>Definition:</b> <a href="convert_8py_source.html#l00907">convert.py:907</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3bf0ce9f1c8f468f772ff5188ff36f2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bf0ce9f1c8f468f772ff5188ff36f2b">&#9670;&nbsp;</a></span>loadMicSetFromFns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.loadMicSetFromFns </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>inputDir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>micFns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a set of Micrographs from their filenames</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01307">1307</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keyword">def </span>loadMicSetFromFns(self, inputDir, micFns):</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Returns a set of Micrographs from their filenames&#39;&#39;&#39;</span></div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      micSet = self._createSetOfMicrographs()</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      <span class="keywordflow">for</span> micFn <span class="keywordflow">in</span> micFns:</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        micPath = os.path.join(inputDir, micFn)</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        micSet.append(Micrograph(micPath))</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      micSet.copyInfo(self._getInputMicrographs())</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <span class="keywordflow">return</span> micSet</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a386e30130ab39554a82237874f040ad9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a386e30130ab39554a82237874f040ad9">&#9670;&nbsp;</a></span>loadTrainedParams()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.loadTrainedParams </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Load the dictionary stored in pickle format which stores the trained parameters.
Creates a initial one if it does not exist yet</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01516">1516</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="keyword">def </span>loadTrainedParams(self):</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Load the dictionary stored in pickle format which stores the trained parameters.</span></div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;<span class="stringliteral">      Creates a initial one if it does not exist yet&#39;&#39;&#39;</span></div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;      paramsFile = self._getExtraPath(self.TRAINED_PARAMS_PATH)</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;      <span class="keywordflow">if</span> os.path.exists(paramsFile):</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;        with open(paramsFile, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> handle:</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;          params = pickle.load(handle)</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      <span class="keywordflow">else</span>:</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        params = {<span class="stringliteral">&#39;trainedMicFns&#39;</span>: [],</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                  <span class="stringliteral">&#39;predictedMicFns&#39;</span>: [],</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                  <span class="stringliteral">&#39;posParticlesTrained&#39;</span>: 0,</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;                  <span class="stringliteral">&#39;trainingPass&#39;</span>: 0,</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;                  <span class="stringliteral">&#39;predictionPasses&#39;</span>: [],</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                  <span class="stringliteral">&#39;doneExtraTesting&#39;</span>: <span class="keyword">False</span>,</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                  <span class="stringliteral">&#39;firstTraining&#39;</span>: <span class="keyword">True</span></div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;                  }</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      <span class="keywordflow">return</span> params</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a1e457dbc4357cd3d59b907f490993a2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e457dbc4357cd3d59b907f490993a2e">&#9670;&nbsp;</a></span>networkReadyToPredict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.networkReadyToPredict </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns true if the CNN is trained or the user specified it does not need to be trained</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01373">1373</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keyword">def </span>networkReadyToPredict(self):</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Returns true if the CNN is trained or the user specified it does not need to be trained&#39;&#39;&#39;</span></div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      trainedParams = self.loadTrainedParams()</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;      <span class="keywordflow">return</span> (self.skipTraining.get() <span class="keywordflow">and</span> len(self.readyToPredictMicFns()) &gt; 0) \</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;             <span class="keywordflow">or</span> len(trainedParams[<span class="stringliteral">&#39;trainedMicFns&#39;</span>]) &gt; 0</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a05277a2185aa0a1e66a6b6c89b4f8170"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05277a2185aa0a1e66a6b6c89b4f8170">&#9670;&nbsp;</a></span>pickNoise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.pickNoise </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Find noise coordinates from micrographs in order to use them as negatives in the training process</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00694">694</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keyword">def </span>pickNoise(self):</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Find noise coordinates from micrographs in order to use them as negatives in the training process&#39;&#39;&#39;</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        orPosDir = self._getExtraPath(self.CONSENSUS_COOR_PATH_TEMPLATE % <span class="stringliteral">&quot;OR&quot;</span>)</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        outputPosDir = self._getExtraPath(self.CONSENSUS_COOR_PATH_TEMPLATE % <span class="stringliteral">&quot;NOISE&quot;</span>)</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> <span class="stringliteral">&quot;OR&quot;</span> <span class="keywordflow">in</span> self.coordinatesDict:  <span class="comment"># fill self.coordinatesDict[&#39;OR&#39;]</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;          self.loadCoords(orPosDir, <span class="stringliteral">&#39;OR&#39;</span>)</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="comment"># Getting the extracted mics where noise have not been picked yet</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        micsDir = self._getExtraPath(self.PRE_PROC_MICs_PATH)</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        toPickNoiseFns = list(<a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(self.getExtractedMicFns(<span class="stringliteral">&#39;OR&#39;</span>)) -</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                              (<a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(self.getExtractedMicFns(<span class="stringliteral">&#39;NOISE&#39;</span>)) | <a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(self.TO_EXTRACT_MICFNS[<span class="stringliteral">&#39;NOISE&#39;</span>])))</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="keywordflow">if</span> len(toPickNoiseFns) &gt; 0:</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;          micNoiseSet = self.loadMicSetFromFns(micsDir, toPickNoiseFns)</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;          toNoiseSetOfCoords = self._createSetOfCoordinates(micNoiseSet)</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;          toNoiseSetOfCoords.setBoxSize(self._getBoxSize())</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;          <a class="code" href="namespacexmipp3_1_1convert_1_1convert.html#acb4e36ab7d9f3d5db49829706eda5d2c">readSetOfCoordinates</a>(orPosDir, micSet=micNoiseSet, coordSet=toNoiseSetOfCoords)</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;          <span class="comment"># Write the tonoise mic files into a tmp directory</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;          coordsDir = self._getTmpPath(IN_COORDS_POS_DIR_BASENAME)</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;          toPickMicsDir = micsDir + <span class="stringliteral">&#39;_toPickNoise&#39;</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;          toPickCoorsDir = coordsDir + <span class="stringliteral">&#39;_toPickNoise&#39;</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;          <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.exists(coordsDir):</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            makePath(coordsDir)</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;          <span class="keywordflow">if</span> os.path.exists(toPickMicsDir):</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            cleanPath(toPickMicsDir)</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;          <span class="keywordflow">if</span> os.path.exists(toPickCoorsDir):</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            cleanPath(toPickCoorsDir)</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;          makePath(toPickMicsDir)</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;          makePath(toPickCoorsDir)</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;          <a class="code" href="namespacexmipp3_1_1convert_1_1convert.html#adde52074a45887455f088f4451546694">writeSetOfCoordinates</a>(coordsDir, toNoiseSetOfCoords)</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;          <span class="keywordflow">for</span> micFn <span class="keywordflow">in</span> toPickNoiseFns:</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            posFn = pwutils.path.replaceBaseExt(micFn, <span class="stringliteral">&#39;pos&#39;</span>)</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            shutil.copyfile(micsDir + <span class="stringliteral">&#39;/&#39;</span> + micFn, toPickMicsDir + <span class="stringliteral">&#39;/&#39;</span> + micFn)</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            shutil.copyfile(coordsDir + <span class="stringliteral">&#39;/&#39;</span> + posFn, toPickCoorsDir + <span class="stringliteral">&#39;/&#39;</span> + posFn)</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;          argsDict = <a class="code" href="namespacexmipp3_1_1protocols_1_1protocol__pick__noise.html#a89d340a3ae4b7d9a5467ebc2657fa396">pickNoise_prepareInput</a>(toNoiseSetOfCoords, self._getTmpPath())</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;          argsDict[<span class="stringliteral">&#39;toPickMicsDir&#39;</span>] = toPickMicsDir</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;          argsDict[<span class="stringliteral">&#39;toPickCoorsDir&#39;</span>] = toPickCoorsDir</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;          argsDict[<span class="stringliteral">&quot;outputPosDir&quot;</span>] = outputPosDir</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;          argsDict[<span class="stringliteral">&quot;nThrs&quot;</span>] = self.numberOfThreads.get()</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;          argsDict[<span class="stringliteral">&quot;nToPick&quot;</span>] = -1</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;          args = (<span class="stringliteral">&quot; -i %(toPickMicsDir)s -c %(toPickCoorsDir)s -o %(outputPosDir)s -s %(boxSize)s &quot;</span> +</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                  <span class="stringliteral">&quot;-n %(nToPick)s -t %(nThrs)s&quot;</span>) % argsDict</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;          self.runJob(<span class="stringliteral">&#39;xmipp_pick_noise&#39;</span>, args, numberOfMpi=1)</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;          self.loadCoords(outputPosDir, <span class="stringliteral">&#39;NOISE&#39;</span>, micSet=micNoiseSet)</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;          self.TO_EXTRACT_MICFNS[<span class="stringliteral">&#39;NOISE&#39;</span>] = toPickNoiseFns</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;          print(<span class="stringliteral">&#39;Adding to extract {} {} micrographs&#39;</span>.format(len(toPickNoiseFns), <span class="stringliteral">&#39;NOISE&#39;</span>))</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="ttc" id="namespacexmipp3_1_1convert_1_1convert_html_adde52074a45887455f088f4451546694"><div class="ttname"><a href="namespacexmipp3_1_1convert_1_1convert.html#adde52074a45887455f088f4451546694">xmipp3.convert.convert.writeSetOfCoordinates</a></div><div class="ttdeci">def writeSetOfCoordinates(posDir, coordSet, ismanual=True, scale=1)</div><div class="ttdef"><b>Definition:</b> <a href="convert_8py_source.html#l00804">convert.py:804</a></div></div>
<div class="ttc" id="namespacecpp_1_1gmock__class_html_a2157e96eee0b4bf9ca6d195ab76f59c2"><div class="ttname"><a href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">cpp.gmock_class.set</a></div><div class="ttdeci">set</div><div class="ttdef"><b>Definition:</b> <a href="gmock__class_8py_source.html#l00044">gmock_class.py:44</a></div></div>
<div class="ttc" id="namespacexmipp3_1_1protocols_1_1protocol__pick__noise_html_a89d340a3ae4b7d9a5467ebc2657fa396"><div class="ttname"><a href="namespacexmipp3_1_1protocols_1_1protocol__pick__noise.html#a89d340a3ae4b7d9a5467ebc2657fa396">xmipp3.protocols.protocol_pick_noise.pickNoise_prepareInput</a></div><div class="ttdeci">def pickNoise_prepareInput(setOfCoords, outPath, outCoordsPosDir=None)</div><div class="ttdef"><b>Definition:</b> <a href="protocol__pick__noise_8py_source.html#l00148">protocol_pick_noise.py:148</a></div></div>
<div class="ttc" id="namespacexmipp3_1_1convert_1_1convert_html_acb4e36ab7d9f3d5db49829706eda5d2c"><div class="ttname"><a href="namespacexmipp3_1_1convert_1_1convert.html#acb4e36ab7d9f3d5db49829706eda5d2c">xmipp3.convert.convert.readSetOfCoordinates</a></div><div class="ttdeci">def readSetOfCoordinates(outputDir, micSet, coordSet, readDiscarded=False, scale=1)</div><div class="ttdef"><b>Definition:</b> <a href="convert_8py_source.html#l00907">convert.py:907</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad3e6c4879fbde34e0bc1bded5d798739"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3e6c4879fbde34e0bc1bded5d798739">&#9670;&nbsp;</a></span>predictCNN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.predictCNN </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Predict the particles from the micrographs and calificates the consensus coordinates</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00974">974</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keyword">def </span>predictCNN(self):</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Predict the particles from the micrographs and calificates the consensus coordinates&#39;&#39;&#39;</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        trainedParams = self.loadTrainedParams()</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        trPass = trainedParams[<span class="stringliteral">&#39;trainingPass&#39;</span>]</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        <span class="keywordflow">if</span> trPass != <span class="stringliteral">&#39;&#39;</span>:</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;          predExten = trPass</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;          mdORPath = self._getExtraPath(<span class="stringliteral">&quot;particles_OR.xmd&quot;</span>)</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;          toPredictMicFns = self.readyToPredictMicFns()</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;          predExten = <span class="stringliteral">&#39;_partial&#39;</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;          self.joinSetOfParticlesStep(mode=<span class="stringliteral">&#39;OR&#39;</span>, micFns=toPredictMicFns, trainingPass=predExten, clean=<span class="keyword">True</span>)</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;          mdORPath = self._getExtraPath(<span class="stringliteral">&quot;particles_OR{}.xmd&quot;</span>.format(predExten))</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        netDataPath = self._getExtraPath(self.NET_TEMPLATE.format(trPass))</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.isdir(netDataPath) <span class="keywordflow">and</span> self._doContinue():</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            prevRunPath = self.continueRun.get()._getExtraPath(self.NET_TEMPLATE.format(trPass))</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            copyTree(prevRunPath, netDataPath)</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        <span class="keywordflow">elif</span> self.skipTraining.get() <span class="keywordflow">and</span> self._usePretrainedModel():</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;          self.__retrievePreTrainedModel(netDataPath)</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        <span class="keywordflow">if</span> self.usesGpu():</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;            numberOfThreads = <span class="keywordtype">None</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            gpuToUse = self.getGpuList()[0]</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;            numberOfThreads = self.numberOfThreads.get()</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            gpuToUse = <span class="keywordtype">None</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        mdObject = md.MetaData(mdORPath)</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        print(<span class="stringliteral">&#39;Predicting on {} true particles&#39;</span>.format(mdObject.size()))</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        predictDict = {mdORPath: 1}</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">if</span> self.doTesting.get() <span class="keywordflow">and</span> self.testTrueSetOfParticles.get() <span class="keywordflow">and</span> self.testFalseSetOfParticles.get() <span class="keywordflow">and</span> <span class="keywordflow">not</span>\</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                self.loadTrainedParams()[<span class="stringliteral">&#39;doneExtraTesting&#39;</span>]:</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            self.uploadTrainedParam(<span class="stringliteral">&#39;doneExtraTesting&#39;</span>, <span class="keyword">True</span>)</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            posTestDict = {self._getExtraPath(<span class="stringliteral">&quot;testTrueParticlesSet.xmd&quot;</span>): 1}</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            negTestDict = {self._getExtraPath(<span class="stringliteral">&quot;testFalseParticlesSet.xmd&quot;</span>): 1}</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            posTestDict = <span class="keywordtype">None</span></div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            negTestDict = <span class="keywordtype">None</span></div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        outParticlesPath = self._getPath(self.PARTICLES_TEMPLATE.format(predExten))</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        fnamesPred, weightsPred= self.__dataDict_toStrs(predictDict)</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        args= <span class="stringliteral">&quot; -n %s --mode score -i %s -o %s &quot;</span>%(netDataPath, fnamesPred, outParticlesPath)</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        <span class="keywordflow">if</span> posTestDict <span class="keywordflow">and</span> posTestDict:</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;          fnamesPosTest, weightsPosTest= self.__dataDict_toStrs(posTestDict)</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;          fnamesNegTest, weightsNegTest= self.__dataDict_toStrs(posTestDict)</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;          args+= <span class="stringliteral">&quot; --testingTrue %s --testingFalse %s &quot;</span>%(fnamesPosTest, fnamesNegTest)</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> gpuToUse <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;          args+= <span class="stringliteral">&quot; -g %s&quot;</span>%(gpuToUse)</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> numberOfThreads <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;          args+= <span class="stringliteral">&quot; -t %s&quot;</span>%(numberOfThreads)</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        self.runJob(<span class="stringliteral">&#39;xmipp_deep_consensus&#39;</span>, args, numberOfMpi=1,</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                    env=self.getCondaEnv())</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        trainedParams = self.loadTrainedParams()</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        <span class="keywordflow">if</span> trPass != <span class="stringliteral">&#39;&#39;</span>:</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;          trainedParams[<span class="stringliteral">&#39;predictionPasses&#39;</span>].append(trPass)</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;          trainedParams[<span class="stringliteral">&#39;predictedMicFns&#39;</span>] += toPredictMicFns</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        self.saveTrainedParams(trainedParams)</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a83a25e91134ad96f5530b8f8da56e361"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83a25e91134ad96f5530b8f8da56e361">&#9670;&nbsp;</a></span>predictionsOn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.predictionsOn </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a boolean for whether to perform a prediction. True if there must be a preliminar prediction or
if the training process has finished (trainingPass=='') </pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01357">1357</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keyword">def </span>predictionsOn(self):</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Return a boolean for whether to perform a prediction. True if there must be a preliminar prediction or</span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;<span class="stringliteral">      if the training process has finished (trainingPass==&#39;&#39;) &#39;&#39;&#39;</span></div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      trainedParams = self.loadTrainedParams()</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      <span class="keywordflow">return</span> (self.readyPreliminarPrediction() <span class="keywordflow">or</span> trainedParams[<span class="stringliteral">&#39;trainingPass&#39;</span>] == <span class="stringliteral">&#39;&#39;</span>)</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="adf794bab78a2f6fd14489829247ecf6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf794bab78a2f6fd14489829247ecf6b">&#9670;&nbsp;</a></span>preprocessMicsStep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.preprocessMicsStep </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Step which preprocesses the input micrographs</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00605">605</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keyword">def </span>preprocessMicsStep(self):</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Step which preprocesses the input micrographs&#39;&#39;&#39;</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        micIds = self.getMicsIds(filterOutNoCoords=<span class="keyword">False</span>)</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="keywordflow">if</span> len(micIds) &gt; 0:</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;          mics_ = self._getInputMicrographs()</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;          micsFnameSet = {mics_[micId].getMicName(): mics_[micId].getFileName() <span class="keywordflow">for</span> micId <span class="keywordflow">in</span> micIds</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                          <span class="keywordflow">if</span> mics_[micId] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>}  <span class="comment"># to skip failed mics</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;          toPreprocessMicFns = self.readyToPreprocessMics(shared=<span class="keyword">False</span>)</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;          print(<span class="stringliteral">&#39;New mics being preprocessed: &#39;</span>, toPreprocessMicFns)</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;          <span class="keywordflow">if</span> self.ignoreCTF.get():</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            preproMicsContent=<span class="stringliteral">&quot;#mics\n&quot;</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            <span class="keywordflow">for</span> micName <span class="keywordflow">in</span> micsFnameSet:</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;              preproMicsContent+= <span class="stringliteral">&quot;%s\n&quot;</span>%(micsFnameSet[micName])</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;          <span class="keywordflow">else</span>:</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            preproMicsContent=<span class="stringliteral">&quot;#mics ctfs\n&quot;</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            setOfMicCtf= self.ctfRelations.get()</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            <span class="keyword">assert</span> setOfMicCtf <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>, <span class="stringliteral">&quot;Error, CTFs must be provided to compute phase flip&quot;</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            <span class="keywordflow">for</span> ctf <span class="keywordflow">in</span> setOfMicCtf:</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;              ctf_mic = ctf.getMicrograph()</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;              ctfMicName = ctf_mic.getMicName()</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;              <span class="keywordflow">if</span> ctfMicName <span class="keywordflow">in</span> micsFnameSet:</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                ctf_mic.setCTF(ctf)</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                ctfMicName= micsFnameSet[ctfMicName]</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                fnCTF = self._getTmpPath(<span class="stringliteral">&quot;%s.ctfParam&quot;</span> % os.path.basename(ctfMicName))</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                <a class="code" href="namespacexmipp3_1_1convert_1_1convert.html#ab195860a9c09088096d75f85fc7944eb">micrographToCTFParam</a>(ctf_mic, fnCTF)</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                preproMicsContent+= <span class="stringliteral">&quot;%s %s\n&quot;</span>%(ctfMicName, fnCTF)</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;          inputsFname= self._getTmpPath(<span class="stringliteral">&quot;preprocMic_inputs.txt&quot;</span>)</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;          ouputDir= self._getExtraPath(self.PRE_PROC_MICs_PATH)</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;          nThrs= self.numberOfThreads.get()</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;          with open(inputsFname, <span class="stringliteral">&quot;w&quot;</span>) <span class="keyword">as</span> f:</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            f.write(preproMicsContent)</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;          downFactor = self._getDownFactor()</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;          args= <span class="stringliteral">&quot;-i %s -s %s -d %s -o %s -t %d&quot;</span>%(inputsFname, self.inSamplingRate, downFactor, ouputDir, nThrs)</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;          <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.skipInvert.get():</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            args+=<span class="stringliteral">&quot; --invert_contrast&quot;</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;          <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.ignoreCTF.get():</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            args+=<span class="stringliteral">&quot; --phase_flip&quot;</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;          self.runJob(<span class="stringliteral">&#39;xmipp_preprocess_mics&#39;</span>, args, numberOfMpi=1)</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        self.PREPROCESSING = <span class="keyword">False</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="ttc" id="namespacexmipp3_1_1convert_1_1convert_html_ab195860a9c09088096d75f85fc7944eb"><div class="ttname"><a href="namespacexmipp3_1_1convert_1_1convert.html#ab195860a9c09088096d75f85fc7944eb">xmipp3.convert.convert.micrographToCTFParam</a></div><div class="ttdeci">def micrographToCTFParam(mic, ctfparam)</div><div class="ttdef"><b>Definition:</b> <a href="convert_8py_source.html#l00431">convert.py:431</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adafe20c31707033388f3429971f888df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adafe20c31707033388f3429971f888df">&#9670;&nbsp;</a></span>prunePaths()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.prunePaths </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>paths</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01433">1433</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <span class="keyword">def </span>prunePaths(self, paths):</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      fns = []</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;      <span class="keywordflow">for</span> path <span class="keywordflow">in</span> paths:</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        fns.append(path.split(<span class="stringliteral">&#39;/&#39;</span>)[-1])</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;      <span class="keywordflow">return</span> fns</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a23b4386c87fd59ab470a0c4ff9f7bb04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23b4386c87fd59ab470a0c4ff9f7bb04">&#9670;&nbsp;</a></span>readyPreliminarPrediction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.readyPreliminarPrediction </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a boolean for whether to perform a preliminar predition. True if the user set it and the current
trained network has not been used yet</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01363">1363</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="keyword">def </span>readyPreliminarPrediction(self):</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Return a boolean for whether to perform a preliminar predition. True if the user set it and the current</span></div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;<span class="stringliteral">      trained network has not been used yet&#39;&#39;&#39;</span></div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      <span class="keywordflow">if</span> self.networkReadyToPredict():</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        trainedParams = self.loadTrainedParams()</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> trainedParams[<span class="stringliteral">&#39;trainingPass&#39;</span>] <span class="keywordflow">in</span> trainedParams[</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;          <span class="stringliteral">&#39;predictionPasses&#39;</span>] <span class="keywordflow">and</span> self.doPreliminarPredictions.get():</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">True</span></div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a76271a3289c311c7969fe10cb5797562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76271a3289c311c7969fe10cb5797562">&#9670;&nbsp;</a></span>readyToExtractMicFns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.readyToExtractMicFns </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the list of micrograph filenames which are ready to be extracted (preprocessed and common for all inputs)
and have not or are not being extracted yet</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01473">1473</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <span class="keyword">def </span>readyToExtractMicFns(self, mode):</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Return the list of micrograph filenames which are ready to be extracted (preprocessed and common for all inputs)</span></div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="stringliteral">      and have not or are not being extracted yet&#39;&#39;&#39;</span></div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      <span class="keywordflow">return</span> list((<a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(self.getPreprocessedMicFns()) &amp; <a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(self.getMicrographFnsWithCoordinates(shared=<span class="keyword">True</span>))) -</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;                  (<a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(self.getExtractedMicFns(mode)) | <a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(self.TO_EXTRACT_MICFNS[mode])))</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;</div><div class="ttc" id="namespacecpp_1_1gmock__class_html_a2157e96eee0b4bf9ca6d195ab76f59c2"><div class="ttname"><a href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">cpp.gmock_class.set</a></div><div class="ttdeci">set</div><div class="ttdef"><b>Definition:</b> <a href="gmock__class_8py_source.html#l00044">gmock_class.py:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeea34ba0b10db8113fb84cb64efa7af4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeea34ba0b10db8113fb84cb64efa7af4">&#9670;&nbsp;</a></span>readyToPredictMicFns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.readyToPredictMicFns </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the list of micrograph filenames which are ready to be used for prediction and
have not or are not being predicted yet</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01487">1487</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <span class="keyword">def </span>readyToPredictMicFns(self):</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Return the list of micrograph filenames which are ready to be used for prediction and</span></div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="stringliteral">      have not or are not being predicted yet&#39;&#39;&#39;</span></div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;      extractedMicFns = <a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(self.getExtractedMicFns(<span class="stringliteral">&#39;OR&#39;</span>))</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;      readyToPredict = list(extractedMicFns - <a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(self.getPredictedMicFns()))</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      <span class="keywordflow">return</span> readyToPredict</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;</div><div class="ttc" id="namespacecpp_1_1gmock__class_html_a2157e96eee0b4bf9ca6d195ab76f59c2"><div class="ttname"><a href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">cpp.gmock_class.set</a></div><div class="ttdeci">set</div><div class="ttdef"><b>Definition:</b> <a href="gmock__class_8py_source.html#l00044">gmock_class.py:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d96406fc9f77c51574acdca470300fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d96406fc9f77c51574acdca470300fd">&#9670;&nbsp;</a></span>readyToPreprocessMics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.readyToPreprocessMics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shared</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the list of micrograph filenames which are ready to be preprocessed and have not been preprocessed yet</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01468">1468</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="keyword">def </span>readyToPreprocessMics(self, shared):</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Return the list of micrograph filenames which are ready to be preprocessed and have not been preprocessed yet&#39;&#39;&#39;</span></div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      micFns = self.getInputMicsFns(shared)</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      <span class="keywordflow">return</span> list(<a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(micFns) - <a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(self.getPreprocessedMicFns()))</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;</div><div class="ttc" id="namespacecpp_1_1gmock__class_html_a2157e96eee0b4bf9ca6d195ab76f59c2"><div class="ttname"><a href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">cpp.gmock_class.set</a></div><div class="ttdeci">set</div><div class="ttdef"><b>Definition:</b> <a href="gmock__class_8py_source.html#l00044">gmock_class.py:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab7acb1066a154b4e2724239452c311a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7acb1066a154b4e2724239452c311a7">&#9670;&nbsp;</a></span>readyToTrainMicFns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.readyToTrainMicFns </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the list of micrograph filenames which are ready to be used for training and
have not or are not being trained yet</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01479">1479</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keyword">def </span>readyToTrainMicFns(self):</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Return the list of micrograph filenames which are ready to be used for training and</span></div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;<span class="stringliteral">      have not or are not being trained yet&#39;&#39;&#39;</span></div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;      extractedMicFns = <a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(self.getExtractedMicFns(<span class="stringliteral">&#39;OR&#39;</span>)) &amp; <a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(self.getExtractedMicFns(<span class="stringliteral">&#39;NOISE&#39;</span>)) &amp; \</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                        <a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(self.getExtractedMicFns(<span class="stringliteral">&#39;AND&#39;</span>))</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;      readyToTrain = list(extractedMicFns - <a class="code" href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">set</a>(self.getTrainedMicFns()))</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;      <span class="keywordflow">return</span> readyToTrain[:min(len(readyToTrain), self.TRAIN_BATCH_MAX)]</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;</div><div class="ttc" id="namespacecpp_1_1gmock__class_html_a2157e96eee0b4bf9ca6d195ab76f59c2"><div class="ttname"><a href="namespacecpp_1_1gmock__class.html#a2157e96eee0b4bf9ca6d195ab76f59c2">cpp.gmock_class.set</a></div><div class="ttdeci">set</div><div class="ttdef"><b>Definition:</b> <a href="gmock__class_8py_source.html#l00044">gmock_class.py:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acefd1d05f5c9148fd85679091cad4490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acefd1d05f5c9148fd85679091cad4490">&#9670;&nbsp;</a></span>retrievePreviousPassModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.retrievePreviousPassModel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>trPass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lastTrPass</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Retrieves a previous CNN model and copies its folders to used the network in a new location</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01547">1547</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="keyword">def </span>retrievePreviousPassModel(self, trPass, lastTrPass=&#39;&#39;):</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Retrieves a previous CNN model and copies its folders to used the network in a new location&#39;&#39;&#39;</span></div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      curNetDataPath = self._getExtraPath(self.NET_TEMPLATE.format(trPass))</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      <span class="keywordflow">if</span> trPass == <span class="stringliteral">&#39;&#39;</span>:</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        prevNetDataPath = self._getExtraPath(self.NET_TEMPLATE.format(lastTrPass))</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      <span class="keywordflow">else</span>:</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        prevNetDataPath = self._getExtraPath(self.NET_TEMPLATE.format(trPass - 1))</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      <span class="keywordflow">if</span> prevNetDataPath != curNetDataPath:</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        copyTree(prevNetDataPath, curNetDataPath)</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a6291acd2655ec538072bf402c2aad596"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6291acd2655ec538072bf402c2aad596">&#9670;&nbsp;</a></span>retrievePreviousRunModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.retrievePreviousRunModel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prevProt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>trPass</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Retrieves a CNN model from other protocol and copies its folders to used the network in a new location</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01557">1557</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="keyword">def </span>retrievePreviousRunModel(self, prevProt, trPass=&#39;&#39;):</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Retrieves a CNN model from other protocol and copies its folders to used the network in a new location&#39;&#39;&#39;</span></div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      curNetDataPath = self._getExtraPath(self.NET_TEMPLATE.format(trPass))</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      prevNetDataPath = prevProt._getExtraPath(<span class="stringliteral">&quot;nnetData&quot;</span>)</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      <span class="keywordflow">if</span> prevNetDataPath != curNetDataPath:</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        copyTree(prevNetDataPath, curNetDataPath)</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a08367166d2fd6621599e65a8962acbd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08367166d2fd6621599e65a8962acbd1">&#9670;&nbsp;</a></span>retrieveTrainSets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.retrieveTrainSets </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Retrieve, link and return a setOfParticles
    corresponding to the NegativeTrain DeepConsensus trainning set
    with certain extraction conditions (phaseFlip/invContrast)
</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01191">1191</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keyword">def </span>retrieveTrainSets(self):</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      <span class="stringliteral">&quot;&quot;&quot; Retrieve, link and return a setOfParticles</span></div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="stringliteral">          corresponding to the NegativeTrain DeepConsensus trainning set</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="stringliteral">          with certain extraction conditions (phaseFlip/invContrast)</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="stringliteral">      &quot;&quot;&quot;</span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;      prefixYES = <span class="stringliteral">&#39;&#39;</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;      prefixNO = <span class="stringliteral">&#39;no&#39;</span></div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;      <span class="comment"># We always work with inverted contrast particles</span></div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      modelType = <span class="stringliteral">&quot;negativeTrain_%sPhaseFlip_Invert.mrcs&quot;</span> % (</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        prefixNO <span class="keywordflow">if</span> self.ignoreCTF.get() <span class="keywordflow">else</span> prefixYES)  <span class="comment"># mics will be always internally inverted if not done before</span></div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      modelPath = self.getModel(<span class="stringliteral">&quot;deepConsensus&quot;</span>, modelType)</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      modelFn = self._getTmpPath(modelType)</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      pwutils.createLink(modelPath, modelFn)</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      tmpSqliteSuff = <span class="stringliteral">&quot;AddTrain&quot;</span></div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      partSet = self._createSetOfParticles(tmpSqliteSuff)</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      img = SetOfParticles.ITEM_TYPE()</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      imgh = ImageHandler()</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      _, _, _, n = imgh.getDimensions(modelFn)</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      <span class="keywordflow">if</span> n &gt; 1:</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <span class="keywordflow">for</span> index <span class="keywordflow">in</span> <a class="code" href="namespacelibsvm_1_1svm.html#a94988a86d7dfc39cb8e193731dbf6c94">range</a>(1, n + 1):</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;          img.cleanObjId()</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;          img.setMicId(9999)</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;          img.setFileName(modelFn)</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;          img.setIndex(index)</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;          partSet.append(img)</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      partSet.setAlignment(ALIGN_NONE)</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      cleanPath(self._getPath(<span class="stringliteral">&quot;particles%s.sqlite&quot;</span> % tmpSqliteSuff))</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <span class="keywordflow">return</span> partSet</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;</div><div class="ttc" id="namespacelibsvm_1_1svm_html_a94988a86d7dfc39cb8e193731dbf6c94"><div class="ttname"><a href="namespacelibsvm_1_1svm.html#a94988a86d7dfc39cb8e193731dbf6c94">libsvm.svm.range</a></div><div class="ttdeci">range</div><div class="ttdef"><b>Definition:</b> <a href="svm_8py_source.html#l00017">svm.py:17</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4510202fa66ba05fddfb6446c82f3af1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4510202fa66ba05fddfb6446c82f3af1">&#9670;&nbsp;</a></span>saveTrainedParams()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.saveTrainedParams </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Save the trained parameters dictionary</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01540">1540</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <span class="keyword">def </span>saveTrainedParams(self, params):</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Save the trained parameters dictionary&#39;&#39;&#39;</span></div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      paramsFile = self._getExtraPath(self.TRAINED_PARAMS_PATH)</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      with open(paramsFile, <span class="stringliteral">&#39;wb&#39;</span>) <span class="keyword">as</span> handle:</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        pickle.dump(params, handle)</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a612321dd977fad66d8fda5a127330be3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a612321dd977fad66d8fda5a127330be3">&#9670;&nbsp;</a></span>trainCNN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.trainCNN </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>toTrainMicFns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Trains the CNN with the particles from the ready to train micrographs</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00889">889</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keyword">def </span>trainCNN(self, toTrainMicFns):</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Trains the CNN with the particles from the ready to train micrographs&#39;&#39;&#39;</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        trainedParams = self.curTrainedParams</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        trPass = trainedParams[<span class="stringliteral">&#39;trainingPass&#39;</span>]</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> trPass == <span class="stringliteral">&#39;&#39;</span>:</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;          trPass += 1</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;          trainedParams[<span class="stringliteral">&#39;trainingPass&#39;</span>] = trPass</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="comment">#Writting the inputs in xmd</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="keywordflow">for</span> mode <span class="keywordflow">in</span> [<span class="stringliteral">&#39;AND&#39;</span>, <span class="stringliteral">&#39;NOISE&#39;</span>]:</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;          self.joinSetOfParticlesStep(mode, toTrainMicFns, trPass, clean=<span class="keyword">True</span>)</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="comment">#Creatting the training pass directory</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        netDataPath = self._getExtraPath(self.NET_TEMPLATE.format(trPass))</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.exists(netDataPath):</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;          makePath(netDataPath)</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        nEpochs = self.nEpochs.get()</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <span class="comment">#Setting the input and input weights</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        posTrainDict = {self._getExtraPath(<span class="stringliteral">&quot;particles_AND{}.xmd&quot;</span>.format(trPass)):  1}</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        negTrainDict = {self._getExtraPath(<span class="stringliteral">&quot;particles_NOISE{}.xmd&quot;</span>.format(trPass)):  1}</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="keywordflow">if</span> self.addTrainingData.get() == self.ADD_DATA_TRAIN_PRECOMP <span class="keywordflow">and</span> trainedParams[<span class="stringliteral">&#39;firstTraining&#39;</span>]:</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;          negTrainDict[self._getTmpPath(<span class="stringliteral">&quot;addNegTrainParticles.xmd&quot;</span>)]= 1</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        <span class="keywordflow">if</span> self.usesGpu():</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;          numberOfThreads = <span class="keywordtype">None</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;          gpuToUse = self.getGpuList()[0]</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;          numberOfThreads = self.numberOfThreads.get()</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;          gpuToUse = <span class="keywordtype">None</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <span class="keywordflow">if</span> self.addTrainingData.get() == self.ADD_DATA_TRAIN_CUST:</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;          <span class="keywordflow">if</span> self.trainingDataType.get() == self.ADD_DATA_TRAIN_CUSTOM_OPT_PARTS <span class="keywordflow">and</span> trainedParams[<span class="stringliteral">&#39;firstTraining&#39;</span>]:</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            <span class="keywordflow">if</span> self.trainTrueSetOfParticles.get():</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;              posTrainFn = self._getExtraPath(<span class="stringliteral">&quot;trainTrueParticlesSet.xmd&quot;</span>)</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;              posTrainDict[posTrainFn] = self.trainPosWeight.get()</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            <span class="keywordflow">if</span> self.trainFalseSetOfParticles.get():</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;              negTrainFn = self._getExtraPath(<span class="stringliteral">&quot;trainFalseParticlesSet.xmd&quot;</span>)</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;              negTrainDict[negTrainFn] = self.trainNegWeight.get()</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;          <span class="keywordflow">elif</span> self.trainingDataType.get() == self.ADD_DATA_TRAIN_CUSTOM_OPT_COORS:</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            <span class="keywordflow">if</span> self.trainTrueSetOfCoords.get():</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;              self.joinSetOfParticlesStep(<span class="stringliteral">&#39;ADDITIONAL_COORDS_TRUE&#39;</span>, toTrainMicFns, trPass, clean=<span class="keyword">True</span>)</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;              posTrainFn = self._getExtraPath(<span class="stringliteral">&quot;particles_ADDITIONAL_COORDS_TRUE{}.xmd&quot;</span>.format(trPass))</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;              posTrainDict[posTrainFn] = self.trainPosWeight.get()</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            <span class="keywordflow">if</span> self.trainFalseSetOfCoords.get():</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;              self.joinSetOfParticlesStep(<span class="stringliteral">&#39;ADDITIONAL_COORDS_FALSE&#39;</span>, toTrainMicFns, trPass, clean=<span class="keyword">True</span>)</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;              negTrainFn = self._getExtraPath(<span class="stringliteral">&quot;particles_ADDITIONAL_COORDS_FALSE{}.xmd&quot;</span>.format(trPass))</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;              negTrainDict[negTrainFn] = self.trainNegWeight.get()</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        effectiveSize=-1</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        nTrueParticles = self.toTrainDataSize.get() <span class="keywordflow">if</span> self.toTrainDataSize.get() != -1 <span class="keywordflow">else</span> 1e10</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <span class="keywordflow">if</span> self._usePretrainedModel():</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;          <span class="keywordflow">if</span> nTrueParticles&lt;1500:</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            effectiveSize=1000</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;          <span class="keywordflow">elif</span> 1500&lt;=nTrueParticles&lt;20000:</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            effectiveSize=5000</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;          <span class="keywordflow">else</span>:</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            effectiveSize=50000</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;          self.__retrievePreTrainedModel(netDataPath, effectiveSize)</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;          <span class="keywordflow">if</span> self.skipTraining.get():</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;              nEpochs = 0</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <span class="keywordflow">elif</span> <span class="keywordflow">not</span> trPass == <span class="stringliteral">&#39;&#39;</span> <span class="keywordflow">and</span> trPass &gt; 1:</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;          <span class="comment">#Starting from model in previous trainingPass</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;          self.retrievePreviousPassModel(trPass)</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        trainedParams[<span class="stringliteral">&#39;posParticlesTrained&#39;</span>] += self._getEffectiveNumPartsTrain(posTrainDict)</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        fnamesPos, weightsPos= self.__dataDict_toStrs(posTrainDict)</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        fnamesNeg, weightsNeg= self.__dataDict_toStrs(negTrainDict)</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        args= <span class="stringliteral">&quot; -n %s --mode train -p %s -f %s --trueW %s --falseW %s --effective_data_size %s&quot;</span>%(netDataPath,</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                      fnamesPos, fnamesNeg, weightsPos, weightsNeg, nTrueParticles)</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        args+= <span class="stringliteral">&quot; -e %s -l %s -r %s -m %s &quot;</span>%(nEpochs, self.learningRate.get(), self.l2RegStrength.get(),</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                                          self.nModels.get())</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.auto_stopping.get():</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;          args+=<span class="stringliteral">&quot; -s&quot;</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> gpuToUse <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;          args+= <span class="stringliteral">&quot; -g %s&quot;</span>%(gpuToUse)</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> numberOfThreads <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;          args+= <span class="stringliteral">&quot; -t %s&quot;</span>%(numberOfThreads)</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        trainedParams[<span class="stringliteral">&#39;trainedMicFns&#39;</span>] += self.TO_TRAIN_MICFNS</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        trainedParams[<span class="stringliteral">&#39;firstTraining&#39;</span>] = <span class="keyword">False</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        self.curTrainedParams = trainedParams</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        self.runJob(<span class="stringliteral">&#39;xmipp_deep_consensus&#39;</span>, args, numberOfMpi=1, env=self.getCondaEnv())</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        </div></div><!-- fragment -->
</div>
</div>
<a id="a41d906f6298642e03d67b732377a29e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41d906f6298642e03d67b732377a29e8">&#9670;&nbsp;</a></span>updateOutput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.updateOutput </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>closeStream</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01158">1158</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="keyword">def </span>updateOutput(self, closeStream=False):</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      <span class="keywordflow">if</span> closeStream:</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        self.outputCoordinates.setStreamState(SetOfParticles.STREAM_CLOSED)</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        self.outputParticles.setStreamState(SetOfParticles.STREAM_CLOSED)</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      self.outputCoordinates.<a class="code" href="namespacepython_1_1tompy_1_1io.html#aef0f48d28574deb9e4f2df6aa17887d9">write</a>()</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      self.outputParticles.<a class="code" href="namespacepython_1_1tompy_1_1io.html#aef0f48d28574deb9e4f2df6aa17887d9">write</a>()</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      self._store(self.outputCoordinates, self.outputParticles)</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div><div class="ttc" id="namespacepython_1_1tompy_1_1io_html_aef0f48d28574deb9e4f2df6aa17887d9"><div class="ttname"><a href="namespacepython_1_1tompy_1_1io.html#aef0f48d28574deb9e4f2df6aa17887d9">python.tompy.io.write</a></div><div class="ttdeci">def write(filename, data)</div><div class="ttdef"><b>Definition:</b> <a href="io_8py_source.html#l00054">io.py:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae8007018f4198055cf7aaa5c025a5496"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8007018f4198055cf7aaa5c025a5496">&#9670;&nbsp;</a></span>updatePreOutput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.updatePreOutput </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>closeStream</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01149">1149</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="keyword">def </span>updatePreOutput(self, closeStream=False):</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      <span class="keywordflow">if</span> closeStream:</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        self.preliminarOutputCoordinates.setStreamState(SetOfParticles.STREAM_CLOSED)</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        self.preliminarOutputParticles.setStreamState(SetOfParticles.STREAM_CLOSED)</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      self.preliminarOutputCoordinates.<a class="code" href="namespacepython_1_1tompy_1_1io.html#aef0f48d28574deb9e4f2df6aa17887d9">write</a>()</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      self.preliminarOutputParticles.<a class="code" href="namespacepython_1_1tompy_1_1io.html#aef0f48d28574deb9e4f2df6aa17887d9">write</a>()</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      self._store(self.preliminarOutputCoordinates, self.preliminarOutputParticles)</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;</div><div class="ttc" id="namespacepython_1_1tompy_1_1io_html_aef0f48d28574deb9e4f2df6aa17887d9"><div class="ttname"><a href="namespacepython_1_1tompy_1_1io.html#aef0f48d28574deb9e4f2df6aa17887d9">python.tompy.io.write</a></div><div class="ttdeci">def write(filename, data)</div><div class="ttdef"><b>Definition:</b> <a href="io_8py_source.html#l00054">io.py:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a20a9fa4cd627d80fe064f8e9ade6631f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20a9fa4cd627d80fe064f8e9ade6631f">&#9670;&nbsp;</a></span>uploadTrainedParam()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.uploadTrainedParam </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>keyParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>newValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Upload the value of a parameter from the trained parameters</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01534">1534</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="keyword">def </span>uploadTrainedParam(self, keyParam, newValue):</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      <span class="stringliteral">&#39;&#39;&#39;Upload the value of a parameter from the trained parameters&#39;&#39;&#39;</span></div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      params = self.loadTrainedParams()</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      params[keyParam] = newValue</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      self.saveTrainedParams(params)</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a73add030f69253acf871143123f3be61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73add030f69253acf871143123f3be61">&#9670;&nbsp;</a></span>waitFreeInputCoords()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.waitFreeInputCoords </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00659">659</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keyword">def </span>waitFreeInputCoords(self):</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <span class="keywordflow">while</span> self.USING_INPUT_COORDS:</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        time.sleep(1)</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      self.USING_INPUT_COORDS = <span class="keyword">True</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a6515c800df9e103e6fee21c811f66aa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6515c800df9e103e6fee21c811f66aa2">&#9670;&nbsp;</a></span>ADD_DATA_TRAIN_CUST</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.ADD_DATA_TRAIN_CUST = 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00092">92</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="acf139d9e6e47a519cd2c4f9f37c392c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf139d9e6e47a519cd2c4f9f37c392c6">&#9670;&nbsp;</a></span>ADD_DATA_TRAIN_CUSTOM_OPT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.ADD_DATA_TRAIN_CUSTOM_OPT = [&quot;Particles&quot;, &quot;Coordinates&quot; ]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00094">94</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="ad17bc532c26b13a703e5eee90b1dd2dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad17bc532c26b13a703e5eee90b1dd2dd">&#9670;&nbsp;</a></span>ADD_DATA_TRAIN_CUSTOM_OPT_COORS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.ADD_DATA_TRAIN_CUSTOM_OPT_COORS = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00096">96</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a4a87963ac91924b7cca80f0479deb86c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a87963ac91924b7cca80f0479deb86c">&#9670;&nbsp;</a></span>ADD_DATA_TRAIN_CUSTOM_OPT_PARTS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.ADD_DATA_TRAIN_CUSTOM_OPT_PARTS = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00095">95</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="aea384f51e088c8e44e266dd83402d77d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea384f51e088c8e44e266dd83402d77d">&#9670;&nbsp;</a></span>ADD_DATA_TRAIN_NONE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.ADD_DATA_TRAIN_NONE = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00090">90</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="ad431186a98ba6f807013f1648884da45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad431186a98ba6f807013f1648884da45">&#9670;&nbsp;</a></span>ADD_DATA_TRAIN_PRECOMP</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.ADD_DATA_TRAIN_PRECOMP = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00091">91</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a6f45413ba1ad2c83c5a0f3e6b27cb521"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f45413ba1ad2c83c5a0f3e6b27cb521">&#9670;&nbsp;</a></span>ADD_DATA_TRAIN_TYPES</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.ADD_DATA_TRAIN_TYPES = [&quot;None&quot;, &quot;Precompiled&quot;, &quot;Custom&quot;]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00089">89</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a5d8ea29608d3cfa76d285398908b4b3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d8ea29608d3cfa76d285398908b4b3d">&#9670;&nbsp;</a></span>ADD_MODEL_TRAIN_NEW</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.ADD_MODEL_TRAIN_NEW = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00099">99</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="acbcefac86f854df7f166a88a42178207"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbcefac86f854df7f166a88a42178207">&#9670;&nbsp;</a></span>ADD_MODEL_TRAIN_PRETRAIN</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.ADD_MODEL_TRAIN_PRETRAIN = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00100">100</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a1875998f4c955f029d90de32bcaf3003"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1875998f4c955f029d90de32bcaf3003">&#9670;&nbsp;</a></span>ADD_MODEL_TRAIN_PREVRUN</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.ADD_MODEL_TRAIN_PREVRUN = 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00101">101</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="adfc15159f4eb30364ff67d2a90685186"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfc15159f4eb30364ff67d2a90685186">&#9670;&nbsp;</a></span>ADD_MODEL_TRAIN_TYPES</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.ADD_MODEL_TRAIN_TYPES = [&quot;New&quot;, &quot;Pretrained&quot;, &quot;PreviousRun&quot;]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00098">98</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a64d8008422dd1fddbba5836ac9cdc34f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64d8008422dd1fddbba5836ac9cdc34f">&#9670;&nbsp;</a></span>boxSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.boxSize</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00466">466</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a3cee98a7efaa5e1a686235a83c478734"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cee98a7efaa5e1a686235a83c478734">&#9670;&nbsp;</a></span>CONSENSUS_COOR_PATH_TEMPLATE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.CONSENSUS_COOR_PATH_TEMPLATE = &quot;consensus_coords_%s&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00082">82</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a85f53775aa1336ec94ae0ea4f102ecfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85f53775aa1336ec94ae0ea4f102ecfe">&#9670;&nbsp;</a></span>CONSENSUS_PARTS_PATH_TEMPLATE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.CONSENSUS_PARTS_PATH_TEMPLATE = &quot;consensus_parts_%s&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00083">83</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a86eed5f110ee7bb1c96f469b54377702"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86eed5f110ee7bb1c96f469b54377702">&#9670;&nbsp;</a></span>coordinatesDict</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.coordinatesDict</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00467">467</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a4459c663a5a397ee3218f7945edcc3b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4459c663a5a397ee3218f7945edcc3b1">&#9670;&nbsp;</a></span>curTrainedParams</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.curTrainedParams</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00884">884</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a120e898ba5227036a576a9af4516521f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a120e898ba5227036a576a9af4516521f">&#9670;&nbsp;</a></span>depLastPredict</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.depLastPredict</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00544">544</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="ac6554d0dbd7abecdcf64eb014686dd99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6554d0dbd7abecdcf64eb014686dd99">&#9670;&nbsp;</a></span>depsTrain</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.depsTrain</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00885">885</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a5608c42799d665801ba7dbf7f3848179"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5608c42799d665801ba7dbf7f3848179">&#9670;&nbsp;</a></span>downFactor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.downFactor</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01290">1290</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="aa83427ec06cec189c1c50eb1f4947874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa83427ec06cec189c1c50eb1f4947874">&#9670;&nbsp;</a></span>ENDED <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.ENDED = False</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00121">121</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a5b3d620616460a9840d688b100832347"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b3d620616460a9840d688b100832347">&#9670;&nbsp;</a></span>ENDED <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.ENDED</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00543">543</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a6f6e6263ab145b0c60d91ef28e118286"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f6e6263ab145b0c60d91ef28e118286">&#9670;&nbsp;</a></span>endStep</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.endStep</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00471">471</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a950b30282b522b90d8d6c94cad845628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a950b30282b522b90d8d6c94cad845628">&#9670;&nbsp;</a></span>EXTRACTING</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dictionary xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.EXTRACTING</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=  {<span class="stringliteral">&#39;OR&#39;</span>: <span class="keyword">False</span>,</div><div class="line">                  <span class="stringliteral">&#39;NOISE&#39;</span>: <span class="keyword">False</span>,</div><div class="line">                  <span class="stringliteral">&#39;AND&#39;</span>: <span class="keyword">False</span>}</div></div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00110">110</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="af0adc560e9f136a60e08abde74b9db26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0adc560e9f136a60e08abde74b9db26">&#9670;&nbsp;</a></span>initDeps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.initDeps</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00469">469</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="aed267558e41f958b5cd40d80a1711896"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed267558e41f958b5cd40d80a1711896">&#9670;&nbsp;</a></span>inputMicrographs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.inputMicrographs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00465">465</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="ac07ad728888abbc15ace1c018a964c82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac07ad728888abbc15ace1c018a964c82">&#9670;&nbsp;</a></span>inSamplingRate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.inSamplingRate</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00601">601</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a4fc1844290405ecad7434a5b171cafd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc1844290405ecad7434a5b171cafd1">&#9670;&nbsp;</a></span>LAST_ROUND <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.LAST_ROUND = False</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00120">120</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="ac277f760f1a582ce9cb71b562fa65851"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac277f760f1a582ce9cb71b562fa65851">&#9670;&nbsp;</a></span>LAST_ROUND <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.LAST_ROUND</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00535">535</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a98b7bb93f2b2d5e787efe4dcfcc8b889"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98b7bb93f2b2d5e787efe4dcfcc8b889">&#9670;&nbsp;</a></span>lastDeps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.lastDeps</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00481">481</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a69f9bb773af999f5ae2a56a18d8fa671"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69f9bb773af999f5ae2a56a18d8fa671">&#9670;&nbsp;</a></span>lastStep</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.lastStep</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00470">470</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a2355e0333764867c1df9298059d53ea7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2355e0333764867c1df9298059d53ea7">&#9670;&nbsp;</a></span>NET_TEMPLATE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.NET_TEMPLATE = &quot;nnetData{}&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00087">87</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="ade75cd8809882d96249b2d82e2069c0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade75cd8809882d96249b2d82e2069c0e">&#9670;&nbsp;</a></span>newSteps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.newSteps</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00475">475</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="ae328404bf14af64fda4f97e5583b1ce6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae328404bf14af64fda4f97e5583b1ce6">&#9670;&nbsp;</a></span>outputCoordinates</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.outputCoordinates</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01055">1055</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a496d1c62cea95a462452b72207b706b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a496d1c62cea95a462452b72207b706b7">&#9670;&nbsp;</a></span>outputParticles</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.outputParticles</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01143">1143</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a0ca9a6b6fe3821dc873e34c93b7b6741"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ca9a6b6fe3821dc873e34c93b7b6741">&#9670;&nbsp;</a></span>PARTICLES_TEMPLATE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.PARTICLES_TEMPLATE = &quot;particles{}.xmd&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00086">86</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a0abee034cc35c7ad02be41b357512fef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0abee034cc35c7ad02be41b357512fef">&#9670;&nbsp;</a></span>PRE_PROC_MICs_PATH</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.PRE_PROC_MICs_PATH = &quot;preProcMics&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00084">84</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a866ac3ef351278ec293deaf7d0235ad2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866ac3ef351278ec293deaf7d0235ad2">&#9670;&nbsp;</a></span>preCoordSet</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.preCoordSet</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00602">602</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="aaee845fab1a10245cfc86f05f75551da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaee845fab1a10245cfc86f05f75551da">&#9670;&nbsp;</a></span>PREDICTING <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.PREDICTING = False</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00118">118</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="ad17b4814d662971d2f152fd6fa2bdbbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad17b4814d662971d2f152fd6fa2bdbbc">&#9670;&nbsp;</a></span>PREDICTING <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.PREDICTING</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00503">503</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="abed689426fefba236601cca94b897878"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abed689426fefba236601cca94b897878">&#9670;&nbsp;</a></span>preliminarOutputCoordinates</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.preliminarOutputCoordinates</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01082">1082</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="aa49a0733bb24235c5c7d8c4dd103d514"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa49a0733bb24235c5c7d8c4dd103d514">&#9670;&nbsp;</a></span>preliminarOutputParticles</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.preliminarOutputParticles</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l01081">1081</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="aba398492c9520d12d16b7be1e53a4981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba398492c9520d12d16b7be1e53a4981">&#9670;&nbsp;</a></span>PREPROCESSING <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.PREPROCESSING = False</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00104">104</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a802db7e31c3cd460aadf5417c9ccf05c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a802db7e31c3cd460aadf5417c9ccf05c">&#9670;&nbsp;</a></span>PREPROCESSING <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.PREPROCESSING</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00480">480</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a20c82c27d41d5cb446d820697b9472d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20c82c27d41d5cb446d820697b9472d2">&#9670;&nbsp;</a></span>stepsExecutionMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.stepsExecutionMode</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00125">125</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a3a6c801e8c75517f68ec5ee9047628ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a6c801e8c75517f68ec5ee9047628ed">&#9670;&nbsp;</a></span>TO_EXTRACT_MICFNS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dictionary xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.TO_EXTRACT_MICFNS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=  {<span class="stringliteral">&#39;OR&#39;</span>: [],</div><div class="line">                         <span class="stringliteral">&#39;NOISE&#39;</span>: [],</div><div class="line">                         <span class="stringliteral">&#39;AND&#39;</span>: [],</div><div class="line">                         <span class="stringliteral">&#39;ADDITIONAL_COORDS_TRUE&#39;</span>:[],</div><div class="line">                         <span class="stringliteral">&#39;ADDITIONAL_COORDS_FALSE&#39;</span>:[]}</div></div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00105">105</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a1a4fa70abb346fc72289083732ed79d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a4fa70abb346fc72289083732ed79d0">&#9670;&nbsp;</a></span>TO_TRAIN_MICFNS <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.TO_TRAIN_MICFNS = []</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00115">115</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a4d573983c1ff308674861cd52d62fbb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d573983c1ff308674861cd52d62fbb9">&#9670;&nbsp;</a></span>TO_TRAIN_MICFNS <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.TO_TRAIN_MICFNS</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00881">881</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a1f0304c5f7b3721d18689e7ebb90040f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f0304c5f7b3721d18689e7ebb90040f">&#9670;&nbsp;</a></span>TRAIN_BATCH_MAX</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.TRAIN_BATCH_MAX = 20</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00114">114</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a875929bf1e170b71863eaa881db9cd73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a875929bf1e170b71863eaa881db9cd73">&#9670;&nbsp;</a></span>TRAINED_PARAMS_PATH</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.TRAINED_PARAMS_PATH = 'trainedParams.pickle'</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00116">116</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a96c7426caec9f29b1ff1c36131d6d96f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96c7426caec9f29b1ff1c36131d6d96f">&#9670;&nbsp;</a></span>TRAINING <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.TRAINING = False</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00117">117</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a8412936d31fc927e806b41fd692c068f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8412936d31fc927e806b41fd692c068f">&#9670;&nbsp;</a></span>TRAINING <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.TRAINING</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00528">528</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a76e862870bba4cd28ca4331da262ada7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76e862870bba4cd28ca4331da262ada7">&#9670;&nbsp;</a></span>trainingDataType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.trainingDataType</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00561">561</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="a595423963a6875cdf437a622d664a691"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a595423963a6875cdf437a622d664a691">&#9670;&nbsp;</a></span>USING_INPUT_COORDS <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.USING_INPUT_COORDS = False</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00081">81</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<a id="addad715a48ed1f02fcb225622a146909"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addad715a48ed1f02fcb225622a146909">&#9670;&nbsp;</a></span>USING_INPUT_COORDS <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_screen_deepConsensus.XmippProtScreenDeepConsensus.USING_INPUT_COORDS</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__screen__deepConsensus_8py_source.html#l00662">662</a> of file <a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>scipion-em-xmipp/xmipp3/protocols/<a class="el" href="protocol__screen__deepConsensus_8py_source.html">protocol_screen_deepConsensus.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
