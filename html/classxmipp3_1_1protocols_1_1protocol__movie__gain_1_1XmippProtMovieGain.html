<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xmipp: xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xmipp_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xmipp
   &#160;<span id="projectnumber">v20.07</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacexmipp3.html">xmipp3</a></li><li class="navelem"><a class="el" href="namespacexmipp3_1_1protocols.html">protocols</a></li><li class="navelem"><a class="el" href="namespacexmipp3_1_1protocols_1_1protocol__movie__gain.html">protocol_movie_gain</a></li><li class="navelem"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html">XmippProtMovieGain</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain:</div>
<div class="dyncontent">
<div class="center"><img src="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain__inherit__graph.png" border="0" usemap="#xmipp3_8protocols_8protocol__movie__gain_8XmippProtMovieGain_inherit__map" alt="Inheritance graph"/></div>
<map name="xmipp3_8protocols_8protocol__movie__gain_8XmippProtMovieGain_inherit__map" id="xmipp3_8protocols_8protocol__movie__gain_8XmippProtMovieGain_inherit__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain:</div>
<div class="dyncontent">
<div class="center"><img src="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain__coll__graph.png" border="0" usemap="#xmipp3_8protocols_8protocol__movie__gain_8XmippProtMovieGain_coll__map" alt="Collaboration graph"/></div>
<map name="xmipp3_8protocols_8protocol__movie__gain_8XmippProtMovieGain_coll__map" id="xmipp3_8protocols_8protocol__movie__gain_8XmippProtMovieGain_coll__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6ed8885d7e1462b90edaa7031b51c4eb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#a6ed8885d7e1462b90edaa7031b51c4eb">__init__</a> (self, args)</td></tr>
<tr class="separator:a6ed8885d7e1462b90edaa7031b51c4eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dc8fd8ad515cb73b5c56ddfa5339cd2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#a7dc8fd8ad515cb73b5c56ddfa5339cd2">createOutputStep</a> (self)</td></tr>
<tr class="separator:a7dc8fd8ad515cb73b5c56ddfa5339cd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff5a503ae738b23d1107af442386111c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#aff5a503ae738b23d1107af442386111c">estimateGainFun</a> (self, movie, noSigma=False, residual=False)</td></tr>
<tr class="separator:aff5a503ae738b23d1107af442386111c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5085f16eb00a7f7e368e90962ca2961"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#aa5085f16eb00a7f7e368e90962ca2961">estimateOrientationStep</a> (self, movieDict)</td></tr>
<tr class="separator:aa5085f16eb00a7f7e368e90962ca2961"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac652e722502ebf681e03fdf7df79379e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#ac652e722502ebf681e03fdf7df79379e">normalizeGainStep</a> (self)</td></tr>
<tr class="separator:ac652e722502ebf681e03fdf7df79379e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af49b337a7037b43310f008923b0a0d71"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#af49b337a7037b43310f008923b0a0d71">updateGainsOutput</a> (self, movie, imgSet, imageFile)</td></tr>
<tr class="separator:af49b337a7037b43310f008923b0a0d71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0ec6469e0ad434eb6f5508be98629ba"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#ac0ec6469e0ad434eb6f5508be98629ba">match_orientation</a> (self, exp_gain, est_gain)</td></tr>
<tr class="separator:ac0ec6469e0ad434eb6f5508be98629ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5056fe9af7513832d3ba06f6e5b7e980"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#a5056fe9af7513832d3ba06f6e5b7e980">invertImage</a> (self, img, outFn)</td></tr>
<tr class="separator:a5056fe9af7513832d3ba06f6e5b7e980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfa12d4d89cc2047f158a51b735a8a4b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#adfa12d4d89cc2047f158a51b735a8a4b">getInputGain</a> (self)</td></tr>
<tr class="separator:adfa12d4d89cc2047f158a51b735a8a4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d2f317f4720afdcac393e59943999d8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#a4d2f317f4720afdcac393e59943999d8">getEstimatedGainPath</a> (self, movieId)</td></tr>
<tr class="separator:a4d2f317f4720afdcac393e59943999d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d46ba9b2b67ec1f0dae930331410519"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#a6d46ba9b2b67ec1f0dae930331410519">getResidualGainPath</a> (self, movieId)</td></tr>
<tr class="separator:a6d46ba9b2b67ec1f0dae930331410519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8365cbcd8b43d2c6b058ece4f416f010"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#a8365cbcd8b43d2c6b058ece4f416f010">getFlippedOrientedGainPath</a> (self)</td></tr>
<tr class="separator:a8365cbcd8b43d2c6b058ece4f416f010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f5d007422c245661892d78a45f76ca3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#a9f5d007422c245661892d78a45f76ca3">getOrientedGainPath</a> (self)</td></tr>
<tr class="separator:a9f5d007422c245661892d78a45f76ca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4b7de7bf21c725540197fed7dc18e6c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#af4b7de7bf21c725540197fed7dc18e6c">getOrientedCorrectionPath</a> (self)</td></tr>
<tr class="separator:af4b7de7bf21c725540197fed7dc18e6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d9b976f83fa29433837ffcda1ea6760"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#a1d9b976f83fa29433837ffcda1ea6760">getFinalGainPath</a> (self, tifFlipped=False)</td></tr>
<tr class="separator:a1d9b976f83fa29433837ffcda1ea6760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a694bf242433959bda152561571539fce"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#a694bf242433959bda152561571539fce">searchEstimatedGainPath</a> (self)</td></tr>
<tr class="separator:a694bf242433959bda152561571539fce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74639c4302960085ef9334e3f466892d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#a74639c4302960085ef9334e3f466892d">getArgs</a> (self, movieFn, movieId, extraArgs='', residual=False)</td></tr>
<tr class="separator:a74639c4302960085ef9334e3f466892d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e2f9c64f56a4f3c185e38d6316c7e3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#af4e2f9c64f56a4f3c185e38d6316c7e3">doGainProcess</a> (self, movieId)</td></tr>
<tr class="separator:af4e2f9c64f56a4f3c185e38d6316c7e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab1b7bd7fd6b5decf01a5706fff32e7af"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#ab1b7bd7fd6b5decf01a5706fff32e7af">stepsExecutionMode</a></td></tr>
<tr class="separator:ab1b7bd7fd6b5decf01a5706fff32e7af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65aa816c097fb52ff24f215626016649"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#a65aa816c097fb52ff24f215626016649">estimatedResIds</a></td></tr>
<tr class="separator:a65aa816c097fb52ff24f215626016649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8950cc4d4ba0aaa1f3599bcac7de94a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#a8950cc4d4ba0aaa1f3599bcac7de94a7">finished</a></td></tr>
<tr class="separator:a8950cc4d4ba0aaa1f3599bcac7de94a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ad35dfd6e8694285f384e213757ab135e"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#ad35dfd6e8694285f384e213757ab135e">estimatedDatabase</a> = 'estGains.sqlite'</td></tr>
<tr class="separator:ad35dfd6e8694285f384e213757ab135e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b36e30c97c65a8c39de1c424f2f8f46"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxmipp3_1_1protocols_1_1protocol__movie__gain_1_1XmippProtMovieGain.html#a6b36e30c97c65a8c39de1c424f2f8f46">residualDatabase</a> = 'resGains.sqlite'</td></tr>
<tr class="separator:a6b36e30c97c65a8c39de1c424f2f8f46"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Estimate the gain image of a camera, directly analyzing one of its movies.
It can correct the orientation of an external gain image (by comparing it with the estimated).
Finally, it estimates the residual gain (the gain of the movie after correcting with a gain).
The gain used in the correction will be preferably the external gain, but can also be the estimated
gain if the first is not found.
The same criteria is used for assigning the gain to the output movies (external corrected &gt; external &gt; estimated)
</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00054">54</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6ed8885d7e1462b90edaa7031b51c4eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ed8885d7e1462b90edaa7031b51c4eb">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00073">73</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keyword">def </span>__init__(self, **args):</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        EMProtocol.__init__(self, **args)</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        self.stepsExecutionMode = STEPS_PARALLEL</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7dc8fd8ad515cb73b5c56ddfa5339cd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dc8fd8ad515cb73b5c56ddfa5339cd2">&#9670;&nbsp;</a></span>createOutputStep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.createOutputStep </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00123">123</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keyword">def </span>createOutputStep(self):</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">if</span> self.estimateGain.get():</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            estGainsSet = self._loadOutputSet(SetOfImages, self.estimatedDatabase)</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            self._updateOutputSet(OUTPUT_ESTIMATED_GAINS, estGainsSet, Set.STREAM_CLOSED)</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">if</span> self.estimateResidualGain.get():</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            resGainsSet = self._loadOutputSet(SetOfImages, self.residualDatabase)</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            self._updateOutputSet(OUTPUT_RESIDUAL_GAINS, resGainsSet, Set.STREAM_CLOSED)</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="af4e2f9c64f56a4f3c185e38d6316c7e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4e2f9c64f56a4f3c185e38d6316c7e3">&#9670;&nbsp;</a></span>doGainProcess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.doGainProcess </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>movieId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00485">485</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keyword">def </span>doGainProcess(self, movieId):</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keywordflow">return</span> (movieId-1) % self.movieStep.get() == 0</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="aff5a503ae738b23d1107af442386111c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff5a503ae738b23d1107af442386111c">&#9670;&nbsp;</a></span>estimateGainFun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.estimateGainFun </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>movie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>noSigma</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>residual</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00164">164</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keyword">def </span>estimateGainFun(self, movie, noSigma=False, residual=False):</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        movieId = movie.getObjId()</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        movieFn = movie.getFileName()</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="comment"># Check which estimated gain matches with the experimental gain</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        args = self.getArgs(movieFn, movieId, residual=residual)</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.estimateSigma.get() <span class="keywordflow">or</span> noSigma:</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            args += <span class="stringliteral">&quot; --sigma 0&quot;</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">if</span> residual:</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            args += <span class="stringliteral">&quot; --gainImage {}&quot;</span>.format(self.getFinalGainPath())</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        self.runJob(<span class="stringliteral">&quot;xmipp_movie_estimate_gain&quot;</span>, args, numberOfMpi=1)</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="aa5085f16eb00a7f7e368e90962ca2961"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5085f16eb00a7f7e368e90962ca2961">&#9670;&nbsp;</a></span>estimateOrientationStep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.estimateOrientationStep </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>movieDict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00176">176</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keyword">def </span>estimateOrientationStep(self, movieDict):</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        movie = Movie()</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        movie.setAttributesFromDict(movieDict, setBasic=<span class="keyword">True</span>, ignoreMissing=<span class="keyword">True</span>)</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        movieId = movie.getObjId()</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        estGainFn = self.getEstimatedGainPath(movieId)</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        expGainFn = self.inputMovies.get().getGain()</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> movieId <span class="keywordflow">in</span> self.estimatedIds:</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            self.estimatedIds.append(movieId)</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            self.estimateGainFun(movie, noSigma=<span class="keyword">True</span>)</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        estGain = xmutils.readImage(estGainFn)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        expGain = xmutils.readImage(expGainFn)</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        self.match_orientation(expGain, estGain)</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        orientedSet = self._loadOutputSet(SetOfImages, <span class="stringliteral">&#39;orientedGain.sqlite&#39;</span>)</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        orientedSet = self.updateGainsOutput(movie, orientedSet, self.getOrientedGainPath())</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        self._updateOutputSet(OUTPUT_ORIENTED_GAINS, orientedSet, Set.STREAM_CLOSED)</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a74639c4302960085ef9334e3f466892d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74639c4302960085ef9334e3f466892d">&#9670;&nbsp;</a></span>getArgs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.getArgs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>movieFn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>movieId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>extraArgs</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>residual</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00477">477</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keyword">def </span>getArgs(self, movieFn, movieId, extraArgs=&#39;&#39;, residual=False):</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordflow">if</span> residual:</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            outbase = self._getExtraPath(<span class="stringliteral">&quot;movie_%06d_residual&quot;</span> % movieId)</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            outbase = self._getExtraPath(<span class="stringliteral">&quot;movie_%06d&quot;</span> % movieId)</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordflow">return</span> (<span class="stringliteral">&quot;-i %s --oroot %s --iter 1 --singleRef --frameStep %d %s&quot;</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                % (movieFn, outbase, self.frameStep, extraArgs))</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a4d2f317f4720afdcac393e59943999d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d2f317f4720afdcac393e59943999d8">&#9670;&nbsp;</a></span>getEstimatedGainPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.getEstimatedGainPath </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>movieId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00430">430</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keyword">def </span>getEstimatedGainPath(self, movieId):</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordflow">return</span> self._getExtraPath(<span class="stringliteral">&quot;movie_%06d_gain.xmp&quot;</span> % movieId)</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a1d9b976f83fa29433837ffcda1ea6760"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d9b976f83fa29433837ffcda1ea6760">&#9670;&nbsp;</a></span>getFinalGainPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.getFinalGainPath </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tifFlipped</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00445">445</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keyword">def </span>getFinalGainPath(self, tifFlipped=False):</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        fnBest = self.getOrientedGainPath()</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">if</span> os.path.exists(fnBest):</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <span class="comment"># If the best orientatin has been calculated, take it</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            finalGainFn = fnBest</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">elif</span> self.getInputGain() != <span class="keywordtype">None</span>:</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <span class="comment"># Elif, take the input gain provided</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            finalGainFn = self.getInputGain()</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <span class="comment"># Elif, take the estimated gain</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            finalGainFn = self.searchEstimatedGainPath()</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            <span class="keywordflow">if</span> finalGainFn == <span class="keywordtype">None</span>:</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                <span class="comment"># If no gains have been estimated, estimate one and use that</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                firstMovie = self.inputMovies.get().getFirstItem()</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                movieId = firstMovie.getObjId()</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                <span class="keywordflow">if</span> <span class="keywordflow">not</span> movieId <span class="keywordflow">in</span> self.estimatedIds:</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                    self.estimatedIds.append(movieId)</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                    self.estimateGainFun(firstMovie)</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                finalGainFn = self.getEstimatedGainPath(movieId)</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        ext = pwutils.getExt(self.inputMovies.get().getFirstItem().getFileName()).lower()</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordflow">if</span> ext <span class="keywordflow">in</span> [<span class="stringliteral">&#39;.tif&#39;</span>, <span class="stringliteral">&#39;.tiff&#39;</span>] <span class="keywordflow">and</span> tifFlipped:</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            finalGainFn = xmutils.flipYImage(finalGainFn, outDir = self._getExtraPath())</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">return</span> finalGainFn</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a8365cbcd8b43d2c6b058ece4f416f010"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8365cbcd8b43d2c6b058ece4f416f010">&#9670;&nbsp;</a></span>getFlippedOrientedGainPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.getFlippedOrientedGainPath </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00436">436</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keyword">def </span>getFlippedOrientedGainPath(self):</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keywordflow">return</span> self._getExtraPath(<span class="stringliteral">&quot;orientedGain_flipped.mrc&quot;</span>)</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="adfa12d4d89cc2047f158a51b735a8a4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfa12d4d89cc2047f158a51b735a8a4b">&#9670;&nbsp;</a></span>getInputGain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.getInputGain </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00427">427</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keyword">def </span>getInputGain(self):</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">return</span> self.inputMovies.get().getGain()</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="af4b7de7bf21c725540197fed7dc18e6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4b7de7bf21c725540197fed7dc18e6c">&#9670;&nbsp;</a></span>getOrientedCorrectionPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.getOrientedCorrectionPath </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00442">442</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keyword">def </span>getOrientedCorrectionPath(self):</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keywordflow">return</span> self._getExtraPath(<span class="stringliteral">&quot;orientedCorrection.mrc&quot;</span>)</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a9f5d007422c245661892d78a45f76ca3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f5d007422c245661892d78a45f76ca3">&#9670;&nbsp;</a></span>getOrientedGainPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.getOrientedGainPath </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00439">439</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keyword">def </span>getOrientedGainPath(self):</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="keywordflow">return</span> self._getExtraPath(<span class="stringliteral">&quot;orientedGain.mrc&quot;</span>)</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a6d46ba9b2b67ec1f0dae930331410519"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d46ba9b2b67ec1f0dae930331410519">&#9670;&nbsp;</a></span>getResidualGainPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.getResidualGainPath </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>movieId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00433">433</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keyword">def </span>getResidualGainPath(self, movieId):</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordflow">return</span> self._getExtraPath(<span class="stringliteral">&quot;movie_%06d_residual_gain.xmp&quot;</span> % movieId)</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a5056fe9af7513832d3ba06f6e5b7e980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5056fe9af7513832d3ba06f6e5b7e980">&#9670;&nbsp;</a></span>invertImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.invertImage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>outFn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00422">422</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keyword">def </span>invertImage(self, img, outFn):</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        array = img.getData()</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        inv_array = <a class="code" href="namespacexmipp3_1_1protocols_1_1protocol__movie__gain.html#a3519bf04bf04a968e111c1aad28de7a3">invert_array</a>(array)</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        xmutils.writeImageFromArray(inv_array, outFn)</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="ttc" id="namespacexmipp3_1_1protocols_1_1protocol__movie__gain_html_a3519bf04bf04a968e111c1aad28de7a3"><div class="ttname"><a href="namespacexmipp3_1_1protocols_1_1protocol__movie__gain.html#a3519bf04bf04a968e111c1aad28de7a3">xmipp3.protocols.protocol_movie_gain.invert_array</a></div><div class="ttdeci">def invert_array(gain, thres=0.01, depth=1)</div><div class="ttdef"><b>Definition:</b> <a href="protocol__movie__gain_8py_source.html#l00542">protocol_movie_gain.py:542</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac0ec6469e0ad434eb6f5508be98629ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0ec6469e0ad434eb6f5508be98629ba">&#9670;&nbsp;</a></span>match_orientation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.match_orientation </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>exp_gain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>est_gain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Calculates the correct orientation of the experimental gain image
    with respect to the estimated
    Input: 2 Xmipp Images
</pre> 
<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00354">354</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keyword">def </span>match_orientation(self, exp_gain, est_gain):</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="stringliteral">&#39;&#39;&#39; Calculates the correct orientation of the experimental gain image</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="stringliteral">            with respect to the estimated</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="stringliteral">            Input: 2 Xmipp Images</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        self.info(<span class="stringliteral">&#39;\nEstimating best orientation&#39;</span>)</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        sys.stdout.flush()</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        best_cor = 0</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="comment">#Building conjugate of FT of estimated gain for correlations</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        est_gain_array = est_gain.getData()</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        est_gain_array = xmutils.normalize_array(est_gain_array)</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        est_gain_array_FT_conj = np.conj(np.fft.fft2(est_gain_array))</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="comment"># Iterating for mirrors</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordflow">for</span> imir <span class="keywordflow">in</span> <a class="code" href="namespacelibsvm_1_1svm.html#a94988a86d7dfc39cb8e193731dbf6c94">range</a>(2):</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            <span class="comment"># Iterating for 90 rotations</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <span class="keywordflow">for</span> irot <span class="keywordflow">in</span> <a class="code" href="namespacelibsvm_1_1svm.html#a94988a86d7dfc39cb8e193731dbf6c94">range</a>(4):</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                imag_array = np.asarray(exp_gain.getData(), dtype=np.float64)</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                <span class="keywordflow">if</span> imir == 1:</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                    <span class="comment"># Matrix for MirrorX</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                    M = np.asarray([[-1, 0, imag_array.shape[1]], [0, 1, 0], [0, 0, 1]])</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                    M = np.identity(3)</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                angle = irot * 90</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                <span class="comment">#Transformating the imag array (mirror + rotation)</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                imag_array, R = xmutils.rotation(imag_array, angle, est_gain_array.shape, M)</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                <span class="comment"># calculating correlation</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                correlationFunction = <a class="code" href="namespacexmipp3_1_1protocols_1_1protocol__movie__gain.html#af5e901a56621e1dbb867cdb0f80ead87">arrays_correlation_FT</a>(imag_array,est_gain_array_FT_conj)</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                minVal = np.amin(correlationFunction)</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                maxVal = np.amax(correlationFunction)</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                minLoc = np.where(correlationFunction == minVal)</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                maxLoc = np.where(correlationFunction == maxVal)</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                <span class="keywordflow">if</span> abs(minVal) &gt; abs(best_cor):</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                    corLoc = <a class="code" href="namespacexmipp3_1_1protocols_1_1protocol__movie__gain.html#af1f3799eaabc8714d5153ddd9e19be3c">translation_correction</a>(minLoc,est_gain_array.shape)</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    best_cor = minVal</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                    best_transf = (angle,imir)</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                    best_R = R</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                    T = np.asarray([[1, 0, corLoc[1].item()],</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                                    [0, 1, corLoc[0].item()],</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                                    [0, 0, 1]])</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                <span class="keywordflow">if</span> abs(maxVal) &gt; abs(best_cor):</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                    corLoc = <a class="code" href="namespacexmipp3_1_1protocols_1_1protocol__movie__gain.html#af1f3799eaabc8714d5153ddd9e19be3c">translation_correction</a>(maxLoc, est_gain_array.shape)</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                    best_cor = maxVal</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                    best_transf = (angle, imir)</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                    best_R = R</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                    T = np.asarray([[1, 0, corLoc[1].item()], </div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                                    [0, 1, corLoc[0].item()],</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                                    [0, 0, 1]])</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="comment"># Multiply by inverse of translation matrix</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        best_M = np.matmul(np.linalg.inv(T), best_R)</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        best_gain_array = xmutils.applyTransform(np.asarray(exp_gain.getData(), dtype=np.float64), best_M, est_gain_array.shape)</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        self.info(<span class="stringliteral">&#39;Best correlation: %f&#39;</span> %best_cor)</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        self.info(<span class="stringliteral">&#39;Rotation angle: {}\nHorizontal mirror: {}&#39;</span>.format(best_transf[0],best_transf[1]==1))</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        inv_best_gain_array = <a class="code" href="namespacexmipp3_1_1protocols_1_1protocol__movie__gain.html#a3519bf04bf04a968e111c1aad28de7a3">invert_array</a>(best_gain_array)</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">if</span> best_cor &gt; 0:</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            xmutils.writeImageFromArray(best_gain_array, self.getOrientedGainPath())</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            <span class="comment">#xmutils.writeImageFromArray(inv_best_gain_array, self.getBestCorrectionPath())</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            xmutils.writeImageFromArray(inv_best_gain_array, self.getOrientedGainPath())</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <span class="comment">#xmutils.writeImageFromArray(best_gain_array, self.getBestCorrectionPath())</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="ttc" id="namespacexmipp3_1_1protocols_1_1protocol__movie__gain_html_a3519bf04bf04a968e111c1aad28de7a3"><div class="ttname"><a href="namespacexmipp3_1_1protocols_1_1protocol__movie__gain.html#a3519bf04bf04a968e111c1aad28de7a3">xmipp3.protocols.protocol_movie_gain.invert_array</a></div><div class="ttdeci">def invert_array(gain, thres=0.01, depth=1)</div><div class="ttdef"><b>Definition:</b> <a href="protocol__movie__gain_8py_source.html#l00542">protocol_movie_gain.py:542</a></div></div>
<div class="ttc" id="namespacexmipp3_1_1protocols_1_1protocol__movie__gain_html_af1f3799eaabc8714d5153ddd9e19be3c"><div class="ttname"><a href="namespacexmipp3_1_1protocols_1_1protocol__movie__gain.html#af1f3799eaabc8714d5153ddd9e19be3c">xmipp3.protocols.protocol_movie_gain.translation_correction</a></div><div class="ttdeci">def translation_correction(Loc, shape)</div><div class="ttdef"><b>Definition:</b> <a href="protocol__movie__gain_8py_source.html#l00530">protocol_movie_gain.py:530</a></div></div>
<div class="ttc" id="namespacelibsvm_1_1svm_html_a94988a86d7dfc39cb8e193731dbf6c94"><div class="ttname"><a href="namespacelibsvm_1_1svm.html#a94988a86d7dfc39cb8e193731dbf6c94">libsvm.svm.range</a></div><div class="ttdeci">range</div><div class="ttdef"><b>Definition:</b> <a href="svm_8py_source.html#l00017">svm.py:17</a></div></div>
<div class="ttc" id="namespacexmipp3_1_1protocols_1_1protocol__movie__gain_html_af5e901a56621e1dbb867cdb0f80ead87"><div class="ttname"><a href="namespacexmipp3_1_1protocols_1_1protocol__movie__gain.html#af5e901a56621e1dbb867cdb0f80ead87">xmipp3.protocols.protocol_movie_gain.arrays_correlation_FT</a></div><div class="ttdeci">def arrays_correlation_FT(ar1, ar2_ft_conj, normalize=True)</div><div class="ttdef"><b>Definition:</b> <a href="protocol__movie__gain_8py_source.html#l00517">protocol_movie_gain.py:517</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac652e722502ebf681e03fdf7df79379e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac652e722502ebf681e03fdf7df79379e">&#9670;&nbsp;</a></span>normalizeGainStep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.normalizeGainStep </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00195">195</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keyword">def </span>normalizeGainStep(self):</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        gainFn = self.getFinalGainPath()</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        oriGain = emlib.Image()</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        oriGain.read(gainFn)</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        oriArray = oriGain.getData()</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="comment"># normalize array to mean 1</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        oriArray = oriArray / np.mean(oriArray)</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        oriGain.setData(oriArray)</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        oriGain.write(self.getFinalGainPath())</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a694bf242433959bda152561571539fce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a694bf242433959bda152561571539fce">&#9670;&nbsp;</a></span>searchEstimatedGainPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.searchEstimatedGainPath </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00471">471</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keyword">def </span>searchEstimatedGainPath(self):</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">for</span> fn <span class="keywordflow">in</span> os.listdir(self._getExtraPath()):</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            <span class="keywordflow">if</span> fn.endswith(<span class="stringliteral">&#39;gain.xmp&#39;</span>) <span class="keywordflow">and</span> <span class="keywordflow">not</span> <span class="stringliteral">&#39;residual&#39;</span> <span class="keywordflow">in</span> fn:</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                <span class="keywordflow">return</span> self._getExtraPath(fn)</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="af49b337a7037b43310f008923b0a0d71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af49b337a7037b43310f008923b0a0d71">&#9670;&nbsp;</a></span>updateGainsOutput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.updateGainsOutput </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>movie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>imgSet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>imageFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00343">343</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keyword">def </span>updateGainsOutput(self, movie, imgSet, imageFile):</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        movieId = movie.getObjId()</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        imgOut = Image()</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        imgOut.setObjId(movieId)</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        imgOut.setSamplingRate(movie.getSamplingRate())</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        imgOut.setFileName(imageFile)</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        imgSet.setSamplingRate(movie.getSamplingRate())</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        imgSet.append(imgOut)</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">return</span> imgSet</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad35dfd6e8694285f384e213757ab135e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad35dfd6e8694285f384e213757ab135e">&#9670;&nbsp;</a></span>estimatedDatabase</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.estimatedDatabase = 'estGains.sqlite'</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00066">66</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>

</div>
</div>
<a id="a65aa816c097fb52ff24f215626016649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65aa816c097fb52ff24f215626016649">&#9670;&nbsp;</a></span>estimatedResIds</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.estimatedResIds</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00155">155</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>

</div>
</div>
<a id="a8950cc4d4ba0aaa1f3599bcac7de94a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8950cc4d4ba0aaa1f3599bcac7de94a7">&#9670;&nbsp;</a></span>finished</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.finished</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00299">299</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>

</div>
</div>
<a id="a6b36e30c97c65a8c39de1c424f2f8f46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b36e30c97c65a8c39de1c424f2f8f46">&#9670;&nbsp;</a></span>residualDatabase</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.residualDatabase = 'resGains.sqlite'</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00067">67</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>

</div>
</div>
<a id="ab1b7bd7fd6b5decf01a5706fff32e7af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1b7bd7fd6b5decf01a5706fff32e7af">&#9670;&nbsp;</a></span>stepsExecutionMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmipp3.protocols.protocol_movie_gain.XmippProtMovieGain.stepsExecutionMode</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protocol__movie__gain_8py_source.html#l00075">75</a> of file <a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>scipion-em-xmipp/xmipp3/protocols/<a class="el" href="protocol__movie__gain_8py_source.html">protocol_movie_gain.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
